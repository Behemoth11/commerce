"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/product/representation";
exports.ids = ["pages/api/product/representation"];
exports.modules = {

/***/ "./GLOBALVARIABLE.ts":
/*!***************************!*\
  !*** ./GLOBALVARIABLE.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"role_dic\": () => (/* binding */ role_dic),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nconst role_dic = {\n  user: 0,\n  seller: 200,\n  admin: 1000\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  role_dic\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9HTE9CQUxWQVJJQUJMRS50cy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFPLE1BQU1BLFFBQVEsR0FBRztBQUFFQyxFQUFBQSxJQUFJLEVBQUUsQ0FBUjtBQUFXQyxFQUFBQSxNQUFNLEVBQUUsR0FBbkI7QUFBd0JDLEVBQUFBLEtBQUssRUFBRTtBQUEvQixDQUFqQjtBQUVQLGlFQUFlO0FBQUVILEVBQUFBO0FBQUYsQ0FBZiIsInNvdXJjZXMiOlsid2VicGFjazovL2NvbW1lcmNlLy4vR0xPQkFMVkFSSUFCTEUudHM/ZmUxZiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3Qgcm9sZV9kaWMgPSB7IHVzZXI6IDAsIHNlbGxlcjogMjAwLCBhZG1pbjogMTAwMCB9O1xuXG5leHBvcnQgZGVmYXVsdCB7IHJvbGVfZGljIH07XG4iXSwibmFtZXMiOlsicm9sZV9kaWMiLCJ1c2VyIiwic2VsbGVyIiwiYWRtaW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./GLOBALVARIABLE.ts\n");

/***/ }),

/***/ "./_api/handlers/product/_delete.ts":
/*!******************************************!*\
  !*** ./_api/handlers/product/_delete.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _models__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../models */ \"./_api/models/index.ts\");\n/* harmony import */ var _utils_cloudinary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/cloudinary */ \"./_api/utils/cloudinary.ts\");\n\n\n\n\nconst handle_delete = async (req, res) => {\n  const error = [];\n  const Id = req.query.product_id;\n  console.log(\"the request reached me\");\n  const mongo_product = await _models__WEBPACK_IMPORTED_MODULE_1__.Product.findOne({\n    _id: new mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId(Id)\n  }).lean(); //@ts-ignore\n\n  if (mongo_product.owner != req.user._id) {\n    return res.status(401).json({\n      message: \"could not process the operation\"\n    });\n  }\n\n  const erasedProduct = await _models__WEBPACK_IMPORTED_MODULE_1__.Product.findOneAndDelete({\n    _id: new mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId(Id)\n  }).catch(err => error.push(err.message)); //@ts-ignore\n\n  if (erasedProduct && erasedProduct.deletedCount == 0) {\n    res.json({\n      message: \"The query provided did not match any product\"\n    });\n    return;\n  }\n\n  try {\n    (0,_utils_cloudinary__WEBPACK_IMPORTED_MODULE_2__.eraseImages)([//@ts-ignore\n    ...erasedProduct.pr_image_url, //@ts-ignore\n    ...erasedProduct.all_pr_image_url], error);\n  } catch (err) {\n    error.push(err.message);\n  }\n\n  res.json({\n    erasedProduct,\n    error\n  });\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (handle_delete);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9fYXBpL2hhbmRsZXJzL3Byb2R1Y3QvX2RlbGV0ZS50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNRyxhQUFhLEdBQUcsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQ3hDLFFBQU1DLEtBQUssR0FBRyxFQUFkO0FBQ0EsUUFBTUMsRUFBRSxHQUFHSCxHQUFHLENBQUNJLEtBQUosQ0FBVUMsVUFBckI7QUFDQUMsRUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksd0JBQVo7QUFFQSxRQUFNQyxhQUFhLEdBQUcsTUFBTVgsb0RBQUEsQ0FBZ0I7QUFDMUNhLElBQUFBLEdBQUcsRUFBRSxJQUFJZCxvREFBSixDQUFtQk8sRUFBbkI7QUFEcUMsR0FBaEIsRUFFekJTLElBRnlCLEVBQTVCLENBTHdDLENBUXhDOztBQUNBLE1BQUlKLGFBQWEsQ0FBQ0ssS0FBZCxJQUF1QmIsR0FBRyxDQUFDYyxJQUFKLENBQVNKLEdBQXBDLEVBQXlDO0FBQ3ZDLFdBQU9ULEdBQUcsQ0FBQ2MsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVDLE1BQUFBLE9BQU8sRUFBRTtBQUFYLEtBQXJCLENBQVA7QUFDRDs7QUFFRCxRQUFNQyxhQUFhLEdBQUcsTUFBTXJCLDZEQUFBLENBQXlCO0FBQ25EYSxJQUFBQSxHQUFHLEVBQUUsSUFBSWQsb0RBQUosQ0FBbUJPLEVBQW5CO0FBRDhDLEdBQXpCLEVBRXpCaUIsS0FGeUIsQ0FFbEJDLEdBQUQsSUFBU25CLEtBQUssQ0FBQ29CLElBQU4sQ0FBV0QsR0FBRyxDQUFDSixPQUFmLENBRlUsQ0FBNUIsQ0Fid0MsQ0FpQnhDOztBQUNBLE1BQUlDLGFBQWEsSUFBSUEsYUFBYSxDQUFDSyxZQUFkLElBQThCLENBQW5ELEVBQXNEO0FBQ3BEdEIsSUFBQUEsR0FBRyxDQUFDZSxJQUFKLENBQVM7QUFBRUMsTUFBQUEsT0FBTyxFQUFFO0FBQVgsS0FBVDtBQUNBO0FBQ0Q7O0FBRUQsTUFBSTtBQUNGbkIsSUFBQUEsOERBQVcsQ0FDVCxDQUNFO0FBQ0EsT0FBR29CLGFBQWEsQ0FBQ00sWUFGbkIsRUFHRTtBQUNBLE9BQUdOLGFBQWEsQ0FBQ08sZ0JBSm5CLENBRFMsRUFPVHZCLEtBUFMsQ0FBWDtBQVNELEdBVkQsQ0FVRSxPQUFPbUIsR0FBUCxFQUFZO0FBQ1puQixJQUFBQSxLQUFLLENBQUNvQixJQUFOLENBQVdELEdBQUcsQ0FBQ0osT0FBZjtBQUNEOztBQUVEaEIsRUFBQUEsR0FBRyxDQUFDZSxJQUFKLENBQVM7QUFDUEUsSUFBQUEsYUFETztBQUVQaEIsSUFBQUE7QUFGTyxHQUFUO0FBSUQsQ0F6Q0Q7O0FBMkNBLGlFQUFlSCxhQUFmIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29tbWVyY2UvLi9fYXBpL2hhbmRsZXJzL3Byb2R1Y3QvX2RlbGV0ZS50cz9iYWE1Il0sInNvdXJjZXNDb250ZW50IjpbIlxuXG5pbXBvcnQgeyBUeXBlcyB9IGZyb20gXCJtb25nb29zZVwiO1xuaW1wb3J0IHtQcm9kdWN0fSBmcm9tIFwiLi4vLi4vbW9kZWxzXCI7XG5pbXBvcnQgeyBlcmFzZUltYWdlcyB9IGZyb20gXCIuLi8uLi91dGlscy9jbG91ZGluYXJ5XCI7XG5cbmNvbnN0IGhhbmRsZV9kZWxldGUgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgZXJyb3IgPSBbXTtcbiAgY29uc3QgSWQgPSByZXEucXVlcnkucHJvZHVjdF9pZDtcbiAgY29uc29sZS5sb2coXCJ0aGUgcmVxdWVzdCByZWFjaGVkIG1lXCIpXG5cbiAgY29uc3QgbW9uZ29fcHJvZHVjdCA9IGF3YWl0IFByb2R1Y3QuZmluZE9uZSh7XG4gICAgX2lkOiBuZXcgVHlwZXMuT2JqZWN0SWQoSWQpLFxuICB9KS5sZWFuKCk7XG4gIC8vQHRzLWlnbm9yZVxuICBpZiAobW9uZ29fcHJvZHVjdC5vd25lciAhPSByZXEudXNlci5faWQpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oeyBtZXNzYWdlOiBcImNvdWxkIG5vdCBwcm9jZXNzIHRoZSBvcGVyYXRpb25cIiB9KTtcbiAgfVxuICBcbiAgY29uc3QgZXJhc2VkUHJvZHVjdCA9IGF3YWl0IFByb2R1Y3QuZmluZE9uZUFuZERlbGV0ZSh7XG4gICAgX2lkOiBuZXcgVHlwZXMuT2JqZWN0SWQoSWQpLFxuICB9KS5jYXRjaCgoZXJyKSA9PiBlcnJvci5wdXNoKGVyci5tZXNzYWdlKSk7XG5cbiAgLy9AdHMtaWdub3JlXG4gIGlmIChlcmFzZWRQcm9kdWN0ICYmIGVyYXNlZFByb2R1Y3QuZGVsZXRlZENvdW50ID09IDApIHtcbiAgICByZXMuanNvbih7IG1lc3NhZ2U6IFwiVGhlIHF1ZXJ5IHByb3ZpZGVkIGRpZCBub3QgbWF0Y2ggYW55IHByb2R1Y3RcIiB9KTtcbiAgICByZXR1cm47XG4gIH1cblxuICB0cnkge1xuICAgIGVyYXNlSW1hZ2VzKFxuICAgICAgW1xuICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgLi4uZXJhc2VkUHJvZHVjdC5wcl9pbWFnZV91cmwsXG4gICAgICAgIC8vQHRzLWlnbm9yZVxuICAgICAgICAuLi5lcmFzZWRQcm9kdWN0LmFsbF9wcl9pbWFnZV91cmwsXG4gICAgICBdLFxuICAgICAgZXJyb3JcbiAgICApO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBlcnJvci5wdXNoKGVyci5tZXNzYWdlKTtcbiAgfVxuXG4gIHJlcy5qc29uKHtcbiAgICBlcmFzZWRQcm9kdWN0LFxuICAgIGVycm9yLFxuICB9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGhhbmRsZV9kZWxldGU7XG4iXSwibmFtZXMiOlsiVHlwZXMiLCJQcm9kdWN0IiwiZXJhc2VJbWFnZXMiLCJoYW5kbGVfZGVsZXRlIiwicmVxIiwicmVzIiwiZXJyb3IiLCJJZCIsInF1ZXJ5IiwicHJvZHVjdF9pZCIsImNvbnNvbGUiLCJsb2ciLCJtb25nb19wcm9kdWN0IiwiZmluZE9uZSIsIl9pZCIsIk9iamVjdElkIiwibGVhbiIsIm93bmVyIiwidXNlciIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwiZXJhc2VkUHJvZHVjdCIsImZpbmRPbmVBbmREZWxldGUiLCJjYXRjaCIsImVyciIsInB1c2giLCJkZWxldGVkQ291bnQiLCJwcl9pbWFnZV91cmwiLCJhbGxfcHJfaW1hZ2VfdXJsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./_api/handlers/product/_delete.ts\n");

/***/ }),

/***/ "./_api/handlers/product/_get.ts":
/*!***************************************!*\
  !*** ./_api/handlers/product/_get.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _shared_UtilityFunctions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../shared/UtilityFunctions */ \"./shared/UtilityFunctions.ts\");\n/* harmony import */ var _models__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../models */ \"./_api/models/index.ts\");\n\n\n\nconst handle_get = async (req, res) => {\n  const query = req.query;\n  const error = [];\n  let page = 0,\n      limit = 50;\n  let field = query.field; // console.log(query, 444444444444444444444);\n\n  try {\n    if (query.page) page = parseInt(query.page) - 1;\n    if (query.limit) limit = parseInt(query.limit);\n  } catch (err) {\n    error.push(err.message);\n  }\n\n  delete query.page;\n  delete query.limit;\n  delete query.field;\n  const keys = Object.keys(query);\n  const searchQuery = {};\n\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n\n    switch (key) {\n      case \"price\":\n        const range = query.price.split(\"to\");\n\n        if (range[1] != \"infinity\") {\n          //infinity var rely only on var in frontend\n          searchQuery[\"price\"] = {\n            $gt: range[0],\n            $lt: range[1]\n          };\n        } else {\n          searchQuery[\"price\"] = {\n            $gt: range[0]\n          };\n        }\n\n        break;\n\n      case \"categories\":\n        const categories = (0,_shared_UtilityFunctions__WEBPACK_IMPORTED_MODULE_0__.string_and_array_to_array)(query.categories);\n\n        if (categories[0] === \"search\") {\n          searchQuery[\"$text\"] = {\n            $search: categories[1]\n          };\n          break;\n        }\n\n        searchQuery[key] = {\n          $all: (0,_shared_UtilityFunctions__WEBPACK_IMPORTED_MODULE_0__.string_and_array_to_array)(query[key])\n        };\n        break;\n\n      default:\n        searchQuery[key] = {\n          $in: (0,_shared_UtilityFunctions__WEBPACK_IMPORTED_MODULE_0__.string_and_array_to_array)(query[key])\n        };\n    }\n  }\n\n  let products = await _models__WEBPACK_IMPORTED_MODULE_1__.Product.find(searchQuery, field).skip(page * limit).limit(limit + 1).lean().catch(err => error.push(err.message)); //@ts-ignore\n\n  const more = products.length > limit;\n\n  if (more) {\n    //@ts-ignore\n    products.pop();\n  } // console.log(products, error)\n\n\n  res.json({\n    products,\n    error,\n    more\n  });\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (handle_get);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixJQURrQixDQUNieEIsSUFBSSxHQUFHQyxLQURNLEVBRWxCQSxLQUZrQixDQUVaQSxLQUFLLEdBQUcsQ0FGSSxFQUdsQndCLElBSGtCLEdBSWxCQyxLQUprQixDQUlYdEIsR0FBRCxJQUFTTCxLQUFLLENBQUNNLElBQU4sQ0FBV0QsR0FBRyxDQUFDRSxPQUFmLENBSkcsQ0FBckIsQ0FqRHFDLENBdURyQzs7QUFDQSxRQUFNcUIsSUFBSSxHQUFHTCxRQUFRLENBQUNYLE1BQVQsR0FBa0JWLEtBQS9COztBQUVBLE1BQUkwQixJQUFKLEVBQVU7QUFDUjtBQUNBTCxJQUFBQSxRQUFRLENBQUNNLEdBQVQ7QUFDRCxHQTdEb0MsQ0ErRHJDOzs7QUFFQS9CLEVBQUFBLEdBQUcsQ0FBQ2dDLElBQUosQ0FBUztBQUNQUCxJQUFBQSxRQURPO0FBRVB2QixJQUFBQSxLQUZPO0FBR1A0QixJQUFBQTtBQUhPLEdBQVQ7QUFLRCxDQXRFRDs7QUF3RUEsaUVBQWVoQyxVQUFmIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29tbWVyY2UvLi9fYXBpL2hhbmRsZXJzL3Byb2R1Y3QvX2dldC50cz8zNWQzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHN0cmluZ19hbmRfYXJyYXlfdG9fYXJyYXkgfSBmcm9tIFwiLi4vLi4vLi4vc2hhcmVkL1V0aWxpdHlGdW5jdGlvbnNcIjtcbmltcG9ydCB7IFByb2R1Y3QgfSBmcm9tIFwiLi4vLi4vbW9kZWxzXCI7XG5pbXBvcnQgY2xvdWRpbmFyeSBmcm9tIFwiLi4vLi4vdXRpbHMvY2xvdWRpbmFyeVwiO1xuXG5jb25zdCBoYW5kbGVfZ2V0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHF1ZXJ5ID0gcmVxLnF1ZXJ5O1xuICBjb25zdCBlcnJvciA9IFtdO1xuICBsZXQgcGFnZSA9IDAsXG4gICAgbGltaXQgPSA1MDtcbiAgbGV0IGZpZWxkID0gcXVlcnkuZmllbGQ7XG5cbiAgLy8gY29uc29sZS5sb2cocXVlcnksIDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NDQ0NCk7XG5cbiAgdHJ5IHtcbiAgICBpZiAocXVlcnkucGFnZSkgcGFnZSA9IHBhcnNlSW50KHF1ZXJ5LnBhZ2UpIC0gMTtcbiAgICBpZiAocXVlcnkubGltaXQpIGxpbWl0ID0gcGFyc2VJbnQocXVlcnkubGltaXQpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBlcnJvci5wdXNoKGVyci5tZXNzYWdlKTtcbiAgfVxuXG4gIGRlbGV0ZSBxdWVyeS5wYWdlO1xuICBkZWxldGUgcXVlcnkubGltaXQ7XG4gIGRlbGV0ZSBxdWVyeS5maWVsZDtcblxuICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMocXVlcnkpO1xuICBjb25zdCBzZWFyY2hRdWVyeTogeyBba2V5OiBzdHJpbmddOiB7fSB9ID0ge307XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qga2V5ID0ga2V5c1tpXTtcblxuICAgIHN3aXRjaCAoa2V5KSB7XG4gICAgICBjYXNlIFwicHJpY2VcIjpcbiAgICAgICAgY29uc3QgcmFuZ2UgPSBxdWVyeS5wcmljZS5zcGxpdChcInRvXCIpO1xuICAgICAgICBpZiAocmFuZ2VbMV0gIT0gXCJpbmZpbml0eVwiKSB7XG4gICAgICAgICAgLy9pbmZpbml0eSB2YXIgcmVseSBvbmx5IG9uIHZhciBpbiBmcm9udGVuZFxuICAgICAgICAgIHNlYXJjaFF1ZXJ5W1wicHJpY2VcIl0gPSB7ICRndDogcmFuZ2VbMF0sICRsdDogcmFuZ2VbMV0gfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWFyY2hRdWVyeVtcInByaWNlXCJdID0geyAkZ3Q6IHJhbmdlWzBdIH07XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiY2F0ZWdvcmllc1wiOlxuICAgICAgICBjb25zdCBjYXRlZ29yaWVzID0gc3RyaW5nX2FuZF9hcnJheV90b19hcnJheShxdWVyeS5jYXRlZ29yaWVzKVxuICAgICAgICBpZiAoY2F0ZWdvcmllc1swXSA9PT0gXCJzZWFyY2hcIil7XG4gICAgICAgICAgc2VhcmNoUXVlcnlbXCIkdGV4dFwiXSA9IHskc2VhcmNoOiBjYXRlZ29yaWVzWzFdfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHNlYXJjaFF1ZXJ5W2tleV0gPSB7ICRhbGw6IHN0cmluZ19hbmRfYXJyYXlfdG9fYXJyYXkocXVlcnlba2V5XSkgfTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBzZWFyY2hRdWVyeVtrZXldID0geyAkaW46IHN0cmluZ19hbmRfYXJyYXlfdG9fYXJyYXkocXVlcnlba2V5XSkgfTtcbiAgICB9XG4gIH1cblxuICBsZXQgcHJvZHVjdHMgPSBhd2FpdCBQcm9kdWN0LmZpbmQoc2VhcmNoUXVlcnksIGZpZWxkKVxuICAgIC5za2lwKHBhZ2UgKiBsaW1pdClcbiAgICAubGltaXQobGltaXQgKyAxKVxuICAgIC5sZWFuKClcbiAgICAuY2F0Y2goKGVycikgPT4gZXJyb3IucHVzaChlcnIubWVzc2FnZSkpO1xuXG4gIC8vQHRzLWlnbm9yZVxuICBjb25zdCBtb3JlID0gcHJvZHVjdHMubGVuZ3RoID4gbGltaXQ7XG5cbiAgaWYgKG1vcmUpIHtcbiAgICAvL0B0cy1pZ25vcmVcbiAgICBwcm9kdWN0cy5wb3AoKTtcbiAgfVxuXG4gIC8vIGNvbnNvbGUubG9nKHByb2R1Y3RzLCBlcnJvcilcblxuICByZXMuanNvbih7XG4gICAgcHJvZHVjdHMsXG4gICAgZXJyb3IsXG4gICAgbW9yZSxcbiAgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBoYW5kbGVfZ2V0O1xuIl0sIm5hbWVzIjpbInN0cmluZ19hbmRfYXJyYXlfdG9fYXJyYXkiLCJQcm9kdWN0IiwiaGFuZGxlX2dldCIsInJlcSIsInJlcyIsInF1ZXJ5IiwiZXJyb3IiLCJwYWdlIiwibGltaXQiLCJmaWVsZCIsInBhcnNlSW50IiwiZXJyIiwicHVzaCIsIm1lc3NhZ2UiLCJrZXlzIiwiT2JqZWN0Iiwic2VhcmNoUXVlcnkiLCJpIiwibGVuZ3RoIiwia2V5IiwicmFuZ2UiLCJwcmljZSIsInNwbGl0IiwiJGd0IiwiJGx0IiwiY2F0ZWdvcmllcyIsIiRzZWFyY2giLCIkYWxsIiwiJGluIiwicHJvZHVjdHMiLCJmaW5kIiwic2tpcCIsImxlYW4iLCJjYXRjaCIsIm1vcmUiLCJwb3AiLCJqc29uIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./_api/handlers/product/_get.ts\n");

/***/ }),

/***/ "./_api/handlers/product/_get_representation.ts":
/*!******************************************************!*\
  !*** ./_api/handlers/product/_get_representation.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _shared_UtilityFunctions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../shared/UtilityFunctions */ \"./shared/UtilityFunctions.ts\");\n/* harmony import */ var _models__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../models */ \"./_api/models/index.ts\");\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n\n\nconst handle_get = async (req, res) => {\n  const query = req.query;\n  const error = [];\n\n  if (query.representation == \"all\") {\n    const products = await _models__WEBPACK_IMPORTED_MODULE_1__.Product.find({\n      representation: {\n        $nin: [\"none\", \"hot deals\"]\n      }\n    }, query.field).limit(query.limit).lean().catch(err => error.push(err.message)); // console.log(\"the products to come are \", products);\n\n    return res.json({\n      products,\n      error\n    });\n  }\n\n  const representation = (0,_shared_UtilityFunctions__WEBPACK_IMPORTED_MODULE_0__.string_and_array_to_array)(query.representation) || [];\n\n  const _promises = representation.map(async rpr => {\n    return await _models__WEBPACK_IMPORTED_MODULE_1__.Product.findOne({\n      representation: rpr\n    }, query.field).lean().catch(err => error.push(err.message));\n  });\n\n  const products = await Promise.all(_promises);\n  const finalProducts = [];\n  const missingRepresentation = [];\n  products.forEach((p, index) => {\n    if (!p) missingRepresentation.push(representation[index]);else finalProducts.push(p);\n  });\n\n  if (missingRepresentation.length > 0) {\n    //console.log(missingRepresentation)\n    const _newPromises = missingRepresentation.map(async rpr => {\n      return await _models__WEBPACK_IMPORTED_MODULE_1__.Product.findOne({\n        categories: {\n          $all: rpr.split(\" \")\n        }\n      }, query.field).catch(err => error.push(err.message));\n    });\n\n    let missingProducts = await Promise.all(_newPromises); // console.log(missingProducts)\n\n    missingProducts = missingProducts //@ts-ignore\n    .map((mongoObj, index) => {\n      if (!mongoObj) return; //@ts-ignore\n\n      return _objectSpread(_objectSpread({}, mongoObj._doc), {}, {\n        representation: missingRepresentation[index]\n      });\n    }).filter(e => e); //filters the product that are not defined;;\n    //console.log(missingProducts)\n\n    finalProducts.push(...missingProducts);\n    console.log(missingProducts);\n  }\n\n  res.json({\n    products: finalProducts,\n    error\n  });\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (handle_get);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9fYXBpL2hhbmRsZXJzL3Byb2R1Y3QvX2dldF9yZXByZXNlbnRhdGlvbi50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQTtBQUNBOztBQUdBLE1BQU1FLFVBQVUsR0FBRyxPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDckMsUUFBTUMsS0FBSyxHQUFHRixHQUFHLENBQUNFLEtBQWxCO0FBQ0EsUUFBTUMsS0FBSyxHQUFHLEVBQWQ7O0FBRUEsTUFBSUQsS0FBSyxDQUFDRSxjQUFOLElBQXdCLEtBQTVCLEVBQW1DO0FBQ2pDLFVBQU1DLFFBQVEsR0FBRyxNQUFNUCxpREFBQSxDQUNyQjtBQUFFTSxNQUFBQSxjQUFjLEVBQUU7QUFBRUcsUUFBQUEsSUFBSSxFQUFFLENBQUMsTUFBRCxFQUFTLFdBQVQ7QUFBUjtBQUFsQixLQURxQixFQUVyQkwsS0FBSyxDQUFDTSxLQUZlLEVBSXBCQyxLQUpvQixDQUlkUCxLQUFLLENBQUNPLEtBSlEsRUFLcEJDLElBTG9CLEdBTXBCQyxLQU5vQixDQU1iQyxHQUFELElBQVNULEtBQUssQ0FBQ1UsSUFBTixDQUFXRCxHQUFHLENBQUNFLE9BQWYsQ0FOSyxDQUF2QixDQURpQyxDQVNqQzs7QUFDQSxXQUFPYixHQUFHLENBQUNjLElBQUosQ0FBUztBQUNkVixNQUFBQSxRQURjO0FBRWRGLE1BQUFBO0FBRmMsS0FBVCxDQUFQO0FBSUQ7O0FBQ0QsUUFBTUMsY0FBYyxHQUFHUCxtRkFBeUIsQ0FBQ0ssS0FBSyxDQUFDRSxjQUFQLENBQXpCLElBQW1ELEVBQTFFOztBQUVBLFFBQU1ZLFNBQVMsR0FBR1osY0FBYyxDQUFDYSxHQUFmLENBQW1CLE1BQU9DLEdBQVAsSUFBZTtBQUNsRCxXQUFPLE1BQU1wQixvREFBQSxDQUFnQjtBQUFFTSxNQUFBQSxjQUFjLEVBQUVjO0FBQWxCLEtBQWhCLEVBQXlDaEIsS0FBSyxDQUFDTSxLQUEvQyxFQUNWRSxJQURVLEdBRVZDLEtBRlUsQ0FFSEMsR0FBRCxJQUFTVCxLQUFLLENBQUNVLElBQU4sQ0FBV0QsR0FBRyxDQUFDRSxPQUFmLENBRkwsQ0FBYjtBQUdELEdBSmlCLENBQWxCOztBQU1BLFFBQU1ULFFBQVEsR0FBRyxNQUFNZSxPQUFPLENBQUNDLEdBQVIsQ0FBWUwsU0FBWixDQUF2QjtBQUNBLFFBQU1NLGFBQWEsR0FBRyxFQUF0QjtBQUVBLFFBQU1DLHFCQUFxQixHQUFHLEVBQTlCO0FBRUFsQixFQUFBQSxRQUFRLENBQUNtQixPQUFULENBQWlCLENBQUNDLENBQUQsRUFBSUMsS0FBSixLQUFjO0FBQzdCLFFBQUksQ0FBQ0QsQ0FBTCxFQUFRRixxQkFBcUIsQ0FBQ1YsSUFBdEIsQ0FBMkJULGNBQWMsQ0FBQ3NCLEtBQUQsQ0FBekMsRUFBUixLQUNLSixhQUFhLENBQUNULElBQWQsQ0FBbUJZLENBQW5CO0FBQ04sR0FIRDs7QUFLQSxNQUFJRixxQkFBcUIsQ0FBQ0ksTUFBdEIsR0FBK0IsQ0FBbkMsRUFBc0M7QUFDcEM7QUFDQSxVQUFNQyxZQUFZLEdBQUdMLHFCQUFxQixDQUFDTixHQUF0QixDQUEwQixNQUFPQyxHQUFQLElBQWU7QUFDNUQsYUFBTyxNQUFNcEIsb0RBQUEsQ0FDWDtBQUFFK0IsUUFBQUEsVUFBVSxFQUFFO0FBQUVDLFVBQUFBLElBQUksRUFBRVosR0FBRyxDQUFDYSxLQUFKLENBQVUsR0FBVjtBQUFSO0FBQWQsT0FEVyxFQUVYN0IsS0FBSyxDQUFDTSxLQUZLLEVBR1hHLEtBSFcsQ0FHSkMsR0FBRCxJQUFTVCxLQUFLLENBQUNVLElBQU4sQ0FBV0QsR0FBRyxDQUFDRSxPQUFmLENBSEosQ0FBYjtBQUlELEtBTG9CLENBQXJCOztBQU9BLFFBQUlrQixlQUFlLEdBQUcsTUFBTVosT0FBTyxDQUFDQyxHQUFSLENBQVlPLFlBQVosQ0FBNUIsQ0FUb0MsQ0FVcEM7O0FBQ0FJLElBQUFBLGVBQWUsR0FBR0EsZUFBZSxDQUMvQjtBQUQrQixLQUU5QmYsR0FGZSxDQUVYLENBQUNnQixRQUFELEVBQVdQLEtBQVgsS0FBcUI7QUFDeEIsVUFBSSxDQUFDTyxRQUFMLEVBQWUsT0FEUyxDQUV4Qjs7QUFDQSw2Q0FBWUEsUUFBUSxDQUFDQyxJQUFyQjtBQUEyQjlCLFFBQUFBLGNBQWMsRUFBRW1CLHFCQUFxQixDQUFDRyxLQUFEO0FBQWhFO0FBQ0QsS0FOZSxFQU9mUyxNQVBlLENBT1BDLENBQUQsSUFBT0EsQ0FQQyxDQUFsQixDQVhvQyxDQWtCaEI7QUFDcEI7O0FBQ0FkLElBQUFBLGFBQWEsQ0FBQ1QsSUFBZCxDQUFtQixHQUFHbUIsZUFBdEI7QUFFRkssSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVlOLGVBQVo7QUFDQzs7QUFHRC9CLEVBQUFBLEdBQUcsQ0FBQ2MsSUFBSixDQUFTO0FBQ1BWLElBQUFBLFFBQVEsRUFBRWlCLGFBREg7QUFFUG5CLElBQUFBO0FBRk8sR0FBVDtBQUlELENBbkVEOztBQXFFQSxpRUFBZUosVUFBZiIsInNvdXJjZXMiOlsid2VicGFjazovL2NvbW1lcmNlLy4vX2FwaS9oYW5kbGVycy9wcm9kdWN0L19nZXRfcmVwcmVzZW50YXRpb24udHM/YmFjOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzdHJpbmdfYW5kX2FycmF5X3RvX2FycmF5IH0gZnJvbSBcIi4uLy4uLy4uL3NoYXJlZC9VdGlsaXR5RnVuY3Rpb25zXCI7XG5pbXBvcnQge1Byb2R1Y3R9IGZyb20gXCIuLi8uLi9tb2RlbHNcIjtcbmltcG9ydCBjbG91ZGluYXJ5IGZyb20gXCIuLi8uLi91dGlscy9jbG91ZGluYXJ5XCI7XG5cbmNvbnN0IGhhbmRsZV9nZXQgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgY29uc3QgcXVlcnkgPSByZXEucXVlcnk7XG4gIGNvbnN0IGVycm9yID0gW107XG5cbiAgaWYgKHF1ZXJ5LnJlcHJlc2VudGF0aW9uID09IFwiYWxsXCIpIHtcbiAgICBjb25zdCBwcm9kdWN0cyA9IGF3YWl0IFByb2R1Y3QuZmluZChcbiAgICAgIHsgcmVwcmVzZW50YXRpb246IHsgJG5pbjogW1wibm9uZVwiLCBcImhvdCBkZWFsc1wiXSB9IH0sXG4gICAgICBxdWVyeS5maWVsZFxuICAgIClcbiAgICAgIC5saW1pdChxdWVyeS5saW1pdClcbiAgICAgIC5sZWFuKClcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBlcnJvci5wdXNoKGVyci5tZXNzYWdlKSk7XG5cbiAgICAvLyBjb25zb2xlLmxvZyhcInRoZSBwcm9kdWN0cyB0byBjb21lIGFyZSBcIiwgcHJvZHVjdHMpO1xuICAgIHJldHVybiByZXMuanNvbih7XG4gICAgICBwcm9kdWN0cyxcbiAgICAgIGVycm9yLFxuICAgIH0pO1xuICB9XG4gIGNvbnN0IHJlcHJlc2VudGF0aW9uID0gc3RyaW5nX2FuZF9hcnJheV90b19hcnJheShxdWVyeS5yZXByZXNlbnRhdGlvbikgfHwgW107XG5cbiAgY29uc3QgX3Byb21pc2VzID0gcmVwcmVzZW50YXRpb24ubWFwKGFzeW5jIChycHIpID0+IHtcbiAgICByZXR1cm4gYXdhaXQgUHJvZHVjdC5maW5kT25lKHsgcmVwcmVzZW50YXRpb246IHJwciB9LCBxdWVyeS5maWVsZClcbiAgICAgIC5sZWFuKClcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBlcnJvci5wdXNoKGVyci5tZXNzYWdlKSk7XG4gIH0pO1xuXG4gIGNvbnN0IHByb2R1Y3RzID0gYXdhaXQgUHJvbWlzZS5hbGwoX3Byb21pc2VzKTtcbiAgY29uc3QgZmluYWxQcm9kdWN0cyA9IFtdO1xuXG4gIGNvbnN0IG1pc3NpbmdSZXByZXNlbnRhdGlvbiA9IFtdO1xuXG4gIHByb2R1Y3RzLmZvckVhY2goKHAsIGluZGV4KSA9PiB7XG4gICAgaWYgKCFwKSBtaXNzaW5nUmVwcmVzZW50YXRpb24ucHVzaChyZXByZXNlbnRhdGlvbltpbmRleF0pO1xuICAgIGVsc2UgZmluYWxQcm9kdWN0cy5wdXNoKHApO1xuICB9KTtcblxuICBpZiAobWlzc2luZ1JlcHJlc2VudGF0aW9uLmxlbmd0aCA+IDApIHtcbiAgICAvL2NvbnNvbGUubG9nKG1pc3NpbmdSZXByZXNlbnRhdGlvbilcbiAgICBjb25zdCBfbmV3UHJvbWlzZXMgPSBtaXNzaW5nUmVwcmVzZW50YXRpb24ubWFwKGFzeW5jIChycHIpID0+IHtcbiAgICAgIHJldHVybiBhd2FpdCBQcm9kdWN0LmZpbmRPbmUoXG4gICAgICAgIHsgY2F0ZWdvcmllczogeyAkYWxsOiBycHIuc3BsaXQoXCIgXCIpIH0gfSxcbiAgICAgICAgcXVlcnkuZmllbGRcbiAgICAgICkuY2F0Y2goKGVycikgPT4gZXJyb3IucHVzaChlcnIubWVzc2FnZSkpO1xuICAgIH0pO1xuXG4gICAgbGV0IG1pc3NpbmdQcm9kdWN0cyA9IGF3YWl0IFByb21pc2UuYWxsKF9uZXdQcm9taXNlcyk7XG4gICAgLy8gY29uc29sZS5sb2cobWlzc2luZ1Byb2R1Y3RzKVxuICAgIG1pc3NpbmdQcm9kdWN0cyA9IG1pc3NpbmdQcm9kdWN0c1xuICAgICAgLy9AdHMtaWdub3JlXG4gICAgICAubWFwKChtb25nb09iaiwgaW5kZXgpID0+IHtcbiAgICAgICAgaWYgKCFtb25nb09iaikgcmV0dXJuO1xuICAgICAgICAvL0B0cy1pZ25vcmVcbiAgICAgICAgcmV0dXJuIHsgLi4ubW9uZ29PYmouX2RvYywgcmVwcmVzZW50YXRpb246IG1pc3NpbmdSZXByZXNlbnRhdGlvbltpbmRleF0gfTtcbiAgICAgIH0pXG4gICAgICAuZmlsdGVyKChlKSA9PiBlKSAvL2ZpbHRlcnMgdGhlIHByb2R1Y3QgdGhhdCBhcmUgbm90IGRlZmluZWQ7O1xuICAgIC8vY29uc29sZS5sb2cobWlzc2luZ1Byb2R1Y3RzKVxuICAgIGZpbmFsUHJvZHVjdHMucHVzaCguLi5taXNzaW5nUHJvZHVjdHMpO1xuXG4gIGNvbnNvbGUubG9nKG1pc3NpbmdQcm9kdWN0cylcbiAgfVxuXG5cbiAgcmVzLmpzb24oe1xuICAgIHByb2R1Y3RzOiBmaW5hbFByb2R1Y3RzLFxuICAgIGVycm9yLFxuICB9KTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGhhbmRsZV9nZXQ7XG4iXSwibmFtZXMiOlsic3RyaW5nX2FuZF9hcnJheV90b19hcnJheSIsIlByb2R1Y3QiLCJoYW5kbGVfZ2V0IiwicmVxIiwicmVzIiwicXVlcnkiLCJlcnJvciIsInJlcHJlc2VudGF0aW9uIiwicHJvZHVjdHMiLCJmaW5kIiwiJG5pbiIsImZpZWxkIiwibGltaXQiLCJsZWFuIiwiY2F0Y2giLCJlcnIiLCJwdXNoIiwibWVzc2FnZSIsImpzb24iLCJfcHJvbWlzZXMiLCJtYXAiLCJycHIiLCJmaW5kT25lIiwiUHJvbWlzZSIsImFsbCIsImZpbmFsUHJvZHVjdHMiLCJtaXNzaW5nUmVwcmVzZW50YXRpb24iLCJmb3JFYWNoIiwicCIsImluZGV4IiwibGVuZ3RoIiwiX25ld1Byb21pc2VzIiwiY2F0ZWdvcmllcyIsIiRhbGwiLCJzcGxpdCIsIm1pc3NpbmdQcm9kdWN0cyIsIm1vbmdvT2JqIiwiX2RvYyIsImZpbHRlciIsImUiLCJjb25zb2xlIiwibG9nIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./_api/handlers/product/_get_representation.ts\n");

/***/ }),

/***/ "./_api/handlers/product/_get_with_id.ts":
/*!***********************************************!*\
  !*** ./_api/handlers/product/_get_with_id.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _models__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models */ \"./_api/models/index.ts\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_1__);\n\n // req format : /api/product/withId/Id1,Id2,Id3....\n\nconst handle_get = async (req, res) => {\n  const query = req.query;\n  const error = []; // console.log(req.query);\n  // console.log(\"I was hit\");\n\n  const productIds = req.query.product_id.split(\",\").filter(Id => Id).map(Id => new mongoose__WEBPACK_IMPORTED_MODULE_1__.Types.ObjectId(Id));\n  const products = await _models__WEBPACK_IMPORTED_MODULE_0__.Product.find({\n    _id: {\n      $in: productIds\n    }\n  }).populate(\"owner\", [\"username\", \"phonenumber\", \"email\"]).exec().catch(err => error.push(err.message));\n  res.json({\n    products,\n    error\n  });\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (handle_get);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9fYXBpL2hhbmRsZXJzL3Byb2R1Y3QvX2dldF93aXRoX2lkLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFDQTtDQUlBOztBQUVBLE1BQU1FLFVBQVUsR0FBRyxPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDckMsUUFBTUMsS0FBSyxHQUFHRixHQUFHLENBQUNFLEtBQWxCO0FBQ0EsUUFBTUMsS0FBSyxHQUFHLEVBQWQsQ0FGcUMsQ0FJckM7QUFDQTs7QUFFQSxRQUFNQyxVQUFVLEdBQUdKLEdBQUcsQ0FBQ0UsS0FBSixDQUFVRyxVQUFWLENBQ2hCQyxLQURnQixDQUNWLEdBRFUsRUFFaEJDLE1BRmdCLENBRVJDLEVBQUQsSUFBUUEsRUFGQyxFQUdoQkMsR0FIZ0IsQ0FHWEQsRUFBRCxJQUFRLElBQUlWLG9EQUFKLENBQW1CVSxFQUFuQixDQUhJLENBQW5CO0FBS0EsUUFBTUcsUUFBUSxHQUFHLE1BQU1kLGlEQUFBLENBQWE7QUFBRWdCLElBQUFBLEdBQUcsRUFBRTtBQUFFQyxNQUFBQSxHQUFHLEVBQUVWO0FBQVA7QUFBUCxHQUFiLEVBQ3BCVyxRQURvQixDQUNYLE9BRFcsRUFDRixDQUFDLFVBQUQsRUFBYSxhQUFiLEVBQTRCLE9BQTVCLENBREUsRUFFcEJDLElBRm9CLEdBR3BCQyxLQUhvQixDQUdiQyxHQUFELElBQVNmLEtBQUssQ0FBQ2dCLElBQU4sQ0FBV0QsR0FBRyxDQUFDRSxPQUFmLENBSEssQ0FBdkI7QUFLQW5CLEVBQUFBLEdBQUcsQ0FBQ29CLElBQUosQ0FBUztBQUNQVixJQUFBQSxRQURPO0FBRVBSLElBQUFBO0FBRk8sR0FBVDtBQUlELENBckJEOztBQXVCQSxpRUFBZUosVUFBZiIsInNvdXJjZXMiOlsid2VicGFjazovL2NvbW1lcmNlLy4vX2FwaS9oYW5kbGVycy9wcm9kdWN0L19nZXRfd2l0aF9pZC50cz8zNjgyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHN0cmluZ19hbmRfYXJyYXlfdG9fYXJyYXkgfSBmcm9tIFwiLi4vLi4vLi4vc2hhcmVkL1V0aWxpdHlGdW5jdGlvbnNcIjtcbmltcG9ydCB7UHJvZHVjdH0gZnJvbSBcIi4uLy4uL21vZGVsc1wiO1xuaW1wb3J0IGNsb3VkaW5hcnkgZnJvbSBcIi4uLy4uL3V0aWxzL2Nsb3VkaW5hcnlcIjtcbmltcG9ydCB7IFR5cGVzIH0gZnJvbSBcIm1vbmdvb3NlXCI7XG5cbi8vIHJlcSBmb3JtYXQgOiAvYXBpL3Byb2R1Y3Qvd2l0aElkL0lkMSxJZDIsSWQzLi4uLlxuXG5jb25zdCBoYW5kbGVfZ2V0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XG4gIGNvbnN0IHF1ZXJ5ID0gcmVxLnF1ZXJ5O1xuICBjb25zdCBlcnJvciA9IFtdO1xuXG4gIC8vIGNvbnNvbGUubG9nKHJlcS5xdWVyeSk7XG4gIC8vIGNvbnNvbGUubG9nKFwiSSB3YXMgaGl0XCIpO1xuXG4gIGNvbnN0IHByb2R1Y3RJZHMgPSByZXEucXVlcnkucHJvZHVjdF9pZFxuICAgIC5zcGxpdChcIixcIilcbiAgICAuZmlsdGVyKChJZCkgPT4gSWQpXG4gICAgLm1hcCgoSWQpID0+IG5ldyBUeXBlcy5PYmplY3RJZChJZCkpO1xuXG4gIGNvbnN0IHByb2R1Y3RzID0gYXdhaXQgUHJvZHVjdC5maW5kKHsgX2lkOiB7ICRpbjogcHJvZHVjdElkcyB9IH0pXG4gICAgLnBvcHVsYXRlKFwib3duZXJcIiwgW1widXNlcm5hbWVcIiwgXCJwaG9uZW51bWJlclwiLCBcImVtYWlsXCJdKVxuICAgIC5leGVjKClcbiAgICAuY2F0Y2goKGVycikgPT4gZXJyb3IucHVzaChlcnIubWVzc2FnZSkpO1xuXG4gIHJlcy5qc29uKHtcbiAgICBwcm9kdWN0cyxcbiAgICBlcnJvcixcbiAgfSk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBoYW5kbGVfZ2V0O1xuIl0sIm5hbWVzIjpbIlByb2R1Y3QiLCJUeXBlcyIsImhhbmRsZV9nZXQiLCJyZXEiLCJyZXMiLCJxdWVyeSIsImVycm9yIiwicHJvZHVjdElkcyIsInByb2R1Y3RfaWQiLCJzcGxpdCIsImZpbHRlciIsIklkIiwibWFwIiwiT2JqZWN0SWQiLCJwcm9kdWN0cyIsImZpbmQiLCJfaWQiLCIkaW4iLCJwb3B1bGF0ZSIsImV4ZWMiLCJjYXRjaCIsImVyciIsInB1c2giLCJtZXNzYWdlIiwianNvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./_api/handlers/product/_get_with_id.ts\n");

/***/ }),

/***/ "./_api/handlers/product/_post.ts":
/*!****************************************!*\
  !*** ./_api/handlers/product/_post.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _models__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../models */ \"./_api/models/index.ts\");\n/* harmony import */ var _utils_cloudinary__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/cloudinary */ \"./_api/utils/cloudinary.ts\");\n\n\n\nconst handle_post = async (req, res) => {\n  const data = req.body;\n  const error = [];\n  const [pr_image_url, all_pr_image_url] = await Promise.all([await (0,_utils_cloudinary__WEBPACK_IMPORTED_MODULE_1__.uploadMany)(data[\"presentationImage\"], error, {}).catch(err => error.push(err.message)), await (0,_utils_cloudinary__WEBPACK_IMPORTED_MODULE_1__.uploadMany)(data[\"images\"], error, {}).catch(err => error.push(err.message))]);\n  /************mongoDb upload***************/\n\n  const mongo_response = await _models__WEBPACK_IMPORTED_MODULE_0__.Product.insertMany([{\n    pr_image_url,\n    //array\n    tags: data.tags,\n    //array\n    all_pr_image_url,\n    //array\n    price: data.price,\n    //number\n    color: data.color,\n    //array\n    owner: req.user._id,\n    location: data.location,\n    //string\n    materials: data.materials,\n    //array\n    categories: data.categories,\n    //array\n    description: data.description,\n    addedAt: new Date().getTime(),\n    productName: data.productName,\n    //string\n    representation: data.representation || \"none\"\n  }]).catch(err => error.push(err.message));\n\n  if (error.length > 0) {\n    res.status(406).json({\n      message: \"Something Went wrong\",\n      error\n    });\n  } else {\n    res.status(200).json({\n      message: \"everythin is good\",\n      mongo_response,\n      error\n    });\n  }\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (handle_post);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9fYXBpL2hhbmRsZXJzL3Byb2R1Y3QvX3Bvc3QudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTs7QUFFQSxNQUFNRSxXQUFXLEdBQUcsT0FBT0MsR0FBUCxFQUFZQyxHQUFaLEtBQW9CO0FBQ3RDLFFBQU1DLElBQUksR0FBR0YsR0FBRyxDQUFDRyxJQUFqQjtBQUNBLFFBQU1DLEtBQUssR0FBRyxFQUFkO0FBRUEsUUFBTSxDQUFDQyxZQUFELEVBQWVDLGdCQUFmLElBQW1DLE1BQU1DLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLENBQ3pELE1BQU1WLDZEQUFVLENBQUNJLElBQUksQ0FBQyxtQkFBRCxDQUFMLEVBQTJCRSxLQUEzQixFQUFpQyxFQUFqQyxDQUFWLENBQStDSyxLQUEvQyxDQUFzREMsR0FBRCxJQUFTTixLQUFLLENBQUNPLElBQU4sQ0FBV0QsR0FBRyxDQUFDRSxPQUFmLENBQTlELENBRG1ELEVBRXpELE1BQU1kLDZEQUFVLENBQUNJLElBQUksQ0FBQyxRQUFELENBQUwsRUFBaUJFLEtBQWpCLEVBQXVCLEVBQXZCLENBQVYsQ0FBcUNLLEtBQXJDLENBQTRDQyxHQUFELElBQVNOLEtBQUssQ0FBQ08sSUFBTixDQUFXRCxHQUFHLENBQUNFLE9BQWYsQ0FBcEQsQ0FGbUQsQ0FBWixDQUEvQztBQUtBOztBQUVBLFFBQU1DLGNBQWMsR0FBRyxNQUFNaEIsdURBQUEsQ0FBbUIsQ0FDOUM7QUFDRVEsSUFBQUEsWUFERjtBQUNnQjtBQUNkVSxJQUFBQSxJQUFJLEVBQUViLElBQUksQ0FBQ2EsSUFGYjtBQUVtQjtBQUNqQlQsSUFBQUEsZ0JBSEY7QUFHb0I7QUFDbEJVLElBQUFBLEtBQUssRUFBRWQsSUFBSSxDQUFDYyxLQUpkO0FBSXFCO0FBQ25CQyxJQUFBQSxLQUFLLEVBQUVmLElBQUksQ0FBQ2UsS0FMZDtBQUtxQjtBQUNuQkMsSUFBQUEsS0FBSyxFQUFFbEIsR0FBRyxDQUFDbUIsSUFBSixDQUFTQyxHQU5sQjtBQU9FQyxJQUFBQSxRQUFRLEVBQUVuQixJQUFJLENBQUNtQixRQVBqQjtBQU8yQjtBQUN6QkMsSUFBQUEsU0FBUyxFQUFFcEIsSUFBSSxDQUFDb0IsU0FSbEI7QUFRNkI7QUFDM0JDLElBQUFBLFVBQVUsRUFBRXJCLElBQUksQ0FBQ3FCLFVBVG5CO0FBUytCO0FBQzdCQyxJQUFBQSxXQUFXLEVBQUV0QixJQUFJLENBQUNzQixXQVZwQjtBQVdFQyxJQUFBQSxPQUFPLEVBQUUsSUFBSUMsSUFBSixHQUFXQyxPQUFYLEVBWFg7QUFZRUMsSUFBQUEsV0FBVyxFQUFFMUIsSUFBSSxDQUFDMEIsV0FacEI7QUFZaUM7QUFDL0JDLElBQUFBLGNBQWMsRUFBRTNCLElBQUksQ0FBQzJCLGNBQUwsSUFBdUI7QUFiekMsR0FEOEMsQ0FBbkIsRUFnQjFCcEIsS0FoQjBCLENBZ0JuQkMsR0FBRCxJQUFTTixLQUFLLENBQUNPLElBQU4sQ0FBV0QsR0FBRyxDQUFDRSxPQUFmLENBaEJXLENBQTdCOztBQWtCQSxNQUFJUixLQUFLLENBQUMwQixNQUFOLEdBQWUsQ0FBbkIsRUFBc0I7QUFDcEI3QixJQUFBQSxHQUFHLENBQUM4QixNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFBRXBCLE1BQUFBLE9BQU8sRUFBRSxzQkFBWDtBQUFtQ1IsTUFBQUE7QUFBbkMsS0FBckI7QUFDRCxHQUZELE1BRU87QUFDTEgsSUFBQUEsR0FBRyxDQUFDOEIsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUVwQixNQUFBQSxPQUFPLEVBQUUsbUJBQVg7QUFBK0JDLE1BQUFBLGNBQS9CO0FBQStDVCxNQUFBQTtBQUEvQyxLQUFyQjtBQUNEO0FBQ0YsQ0FsQ0Q7O0FBb0NBLGlFQUFlTCxXQUFmIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29tbWVyY2UvLi9fYXBpL2hhbmRsZXJzL3Byb2R1Y3QvX3Bvc3QudHM/NDc4OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1Byb2R1Y3R9IGZyb20gXCIuLi8uLi9tb2RlbHNcIjtcbmltcG9ydCBjbG91ZGluYXJ5LCB7IHVwbG9hZE1hbnkgfSBmcm9tIFwiLi4vLi4vdXRpbHMvY2xvdWRpbmFyeVwiO1xuXG5jb25zdCBoYW5kbGVfcG9zdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCBkYXRhID0gcmVxLmJvZHk7XG4gIGNvbnN0IGVycm9yID0gW107XG5cbiAgY29uc3QgW3ByX2ltYWdlX3VybCwgYWxsX3ByX2ltYWdlX3VybF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgYXdhaXQgdXBsb2FkTWFueShkYXRhW1wicHJlc2VudGF0aW9uSW1hZ2VcIl0sZXJyb3Ise30pLmNhdGNoKChlcnIpID0+IGVycm9yLnB1c2goZXJyLm1lc3NhZ2UpKSxcbiAgICBhd2FpdCB1cGxvYWRNYW55KGRhdGFbXCJpbWFnZXNcIl0sIGVycm9yLHt9KS5jYXRjaCgoZXJyKSA9PiBlcnJvci5wdXNoKGVyci5tZXNzYWdlKSksXG4gIF0pO1xuXG4gIC8qKioqKioqKioqKiptb25nb0RiIHVwbG9hZCoqKioqKioqKioqKioqKi9cblxuICBjb25zdCBtb25nb19yZXNwb25zZSA9IGF3YWl0IFByb2R1Y3QuaW5zZXJ0TWFueShbXG4gICAge1xuICAgICAgcHJfaW1hZ2VfdXJsLCAvL2FycmF5XG4gICAgICB0YWdzOiBkYXRhLnRhZ3MsIC8vYXJyYXlcbiAgICAgIGFsbF9wcl9pbWFnZV91cmwsIC8vYXJyYXlcbiAgICAgIHByaWNlOiBkYXRhLnByaWNlLCAvL251bWJlclxuICAgICAgY29sb3I6IGRhdGEuY29sb3IsIC8vYXJyYXlcbiAgICAgIG93bmVyOiByZXEudXNlci5faWQsXG4gICAgICBsb2NhdGlvbjogZGF0YS5sb2NhdGlvbiwgLy9zdHJpbmdcbiAgICAgIG1hdGVyaWFsczogZGF0YS5tYXRlcmlhbHMsIC8vYXJyYXlcbiAgICAgIGNhdGVnb3JpZXM6IGRhdGEuY2F0ZWdvcmllcywgLy9hcnJheVxuICAgICAgZGVzY3JpcHRpb246IGRhdGEuZGVzY3JpcHRpb24sXG4gICAgICBhZGRlZEF0OiBuZXcgRGF0ZSgpLmdldFRpbWUoKSxcbiAgICAgIHByb2R1Y3ROYW1lOiBkYXRhLnByb2R1Y3ROYW1lLCAvL3N0cmluZ1xuICAgICAgcmVwcmVzZW50YXRpb246IGRhdGEucmVwcmVzZW50YXRpb24gfHwgXCJub25lXCIsXG4gICAgfSxcbiAgXSkuY2F0Y2goKGVycikgPT4gZXJyb3IucHVzaChlcnIubWVzc2FnZSkpO1xuXG4gIGlmIChlcnJvci5sZW5ndGggPiAwKSB7XG4gICAgcmVzLnN0YXR1cyg0MDYpLmpzb24oeyBtZXNzYWdlOiBcIlNvbWV0aGluZyBXZW50IHdyb25nXCIsIGVycm9yIH0pO1xuICB9IGVsc2Uge1xuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgbWVzc2FnZTogXCJldmVyeXRoaW4gaXMgZ29vZFwiLG1vbmdvX3Jlc3BvbnNlLCBlcnJvciB9KTtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgaGFuZGxlX3Bvc3Q7XG4iXSwibmFtZXMiOlsiUHJvZHVjdCIsInVwbG9hZE1hbnkiLCJoYW5kbGVfcG9zdCIsInJlcSIsInJlcyIsImRhdGEiLCJib2R5IiwiZXJyb3IiLCJwcl9pbWFnZV91cmwiLCJhbGxfcHJfaW1hZ2VfdXJsIiwiUHJvbWlzZSIsImFsbCIsImNhdGNoIiwiZXJyIiwicHVzaCIsIm1lc3NhZ2UiLCJtb25nb19yZXNwb25zZSIsImluc2VydE1hbnkiLCJ0YWdzIiwicHJpY2UiLCJjb2xvciIsIm93bmVyIiwidXNlciIsIl9pZCIsImxvY2F0aW9uIiwibWF0ZXJpYWxzIiwiY2F0ZWdvcmllcyIsImRlc2NyaXB0aW9uIiwiYWRkZWRBdCIsIkRhdGUiLCJnZXRUaW1lIiwicHJvZHVjdE5hbWUiLCJyZXByZXNlbnRhdGlvbiIsImxlbmd0aCIsInN0YXR1cyIsImpzb24iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./_api/handlers/product/_post.ts\n");

/***/ }),

/***/ "./_api/handlers/product/_put.ts":
/*!***************************************!*\
  !*** ./_api/handlers/product/_put.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _models__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../models */ \"./_api/models/index.ts\");\n/* harmony import */ var _utils_cloudinary__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/cloudinary */ \"./_api/utils/cloudinary.ts\");\n// import model_name from \"../../models/file_name\";\n\n\n\n\nconst handle_put = async (req, res) => {\n  const data = req.body;\n  const _id = req.query.product_id;\n  const error = [];\n  const not_changed = {};\n  const old_images = data.pr_image_url.concat(data.all_pr_image_url);\n  const mongo_product = await _models__WEBPACK_IMPORTED_MODULE_1__.Product.findOne({\n    _id: new mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId(_id)\n  }).lean(); //@ts-ignore\n\n  if (mongo_product.owner != req.user._id && req.user.role != \"admin\") {\n    return res.status(401).json({\n      message: \"could not process the operation\"\n    });\n  }\n\n  const [pr_image_url, all_pr_image_url] = await Promise.all([(0,_utils_cloudinary__WEBPACK_IMPORTED_MODULE_2__.uploadMany)(data[\"presentationImage\"], error, not_changed), (0,_utils_cloudinary__WEBPACK_IMPORTED_MODULE_2__.uploadMany)(data[\"images\"], error, not_changed)]);\n  const erase = await (0,_utils_cloudinary__WEBPACK_IMPORTED_MODULE_2__.eraseImages)(old_images.filter(image => !not_changed[image]), error); // console.log(\"the old images are :\", old_images)\n  // console.log(\"we erased :\", erase)\n  // console.log(\"the one on the server are :\" , not_changed)\n\n  const mongo_response = await _models__WEBPACK_IMPORTED_MODULE_1__.Product.updateOne({\n    _id: new mongoose__WEBPACK_IMPORTED_MODULE_0__.Types.ObjectId(_id)\n  }, {\n    pr_image_url,\n    //array\n    tags: data.tags,\n    //array\n    all_pr_image_url,\n    //array\n    price: data.price,\n    //number\n    color: data.color,\n    //array\n    location: data.location,\n    //string\n    materials: data.materials,\n    //array\n    categories: data.categories,\n    //array\n    description: data.description,\n    productName: data.productName,\n    //string\n    representation: data.representation || \"none\"\n  }).catch(err => error.push(err.message));\n\n  if (error.length > 0) {\n    res.status(406).json({\n      message: \"Something Went wrong\",\n      error\n    });\n  } else {\n    res.status(200).json({\n      mongo_response,\n      error\n    });\n  }\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (handle_put);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQ21DLE1BQU4sR0FBZSxDQUFuQixFQUFzQjtBQUNwQnpDLElBQUFBLEdBQUcsQ0FBQ21CLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFQyxNQUFBQSxPQUFPLEVBQUUsc0JBQVg7QUFBbUNmLE1BQUFBO0FBQW5DLEtBQXJCO0FBQ0QsR0FGRCxNQUVPO0FBQ0xOLElBQUFBLEdBQUcsQ0FBQ21CLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUFFTyxNQUFBQSxjQUFGO0FBQWtCckIsTUFBQUE7QUFBbEIsS0FBckI7QUFDRDtBQUNGLENBbkREOztBQXFEQSxpRUFBZVIsVUFBZiIsInNvdXJjZXMiOlsid2VicGFjazovL2NvbW1lcmNlLy4vX2FwaS9oYW5kbGVycy9wcm9kdWN0L19wdXQudHM/YWY5ZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBpbXBvcnQgbW9kZWxfbmFtZSBmcm9tIFwiLi4vLi4vbW9kZWxzL2ZpbGVfbmFtZVwiO1xuXG5pbXBvcnQgeyBUeXBlcyB9IGZyb20gXCJtb25nb29zZVwiO1xuaW1wb3J0IHsgUHJvZHVjdCB9IGZyb20gXCIuLi8uLi9tb2RlbHNcIjtcbmltcG9ydCB7IGVyYXNlSW1hZ2VzLCB1cGxvYWRNYW55IH0gZnJvbSBcIi4uLy4uL3V0aWxzL2Nsb3VkaW5hcnlcIjtcblxuY29uc3QgaGFuZGxlX3B1dCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBjb25zdCBkYXRhID0gcmVxLmJvZHk7XG4gIGNvbnN0IF9pZCA9IHJlcS5xdWVyeS5wcm9kdWN0X2lkO1xuICBjb25zdCBlcnJvciA9IFtdO1xuICBjb25zdCBub3RfY2hhbmdlZCA9IHt9O1xuICBjb25zdCBvbGRfaW1hZ2VzID0gZGF0YS5wcl9pbWFnZV91cmwuY29uY2F0KGRhdGEuYWxsX3ByX2ltYWdlX3VybCk7XG5cbiAgY29uc3QgbW9uZ29fcHJvZHVjdCA9IGF3YWl0IFByb2R1Y3QuZmluZE9uZSh7XG4gICAgX2lkOiBuZXcgVHlwZXMuT2JqZWN0SWQoX2lkKSxcbiAgfSkubGVhbigpO1xuICAvL0B0cy1pZ25vcmVcbiAgaWYgKG1vbmdvX3Byb2R1Y3Qub3duZXIgIT0gcmVxLnVzZXIuX2lkICYmIHJlcS51c2VyLnJvbGUgIT0gXCJhZG1pblwiKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHsgbWVzc2FnZTogXCJjb3VsZCBub3QgcHJvY2VzcyB0aGUgb3BlcmF0aW9uXCIgfSk7XG4gIH1cblxuICBjb25zdCBbcHJfaW1hZ2VfdXJsLCBhbGxfcHJfaW1hZ2VfdXJsXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICB1cGxvYWRNYW55KGRhdGFbXCJwcmVzZW50YXRpb25JbWFnZVwiXSwgZXJyb3IsIG5vdF9jaGFuZ2VkKSxcbiAgICB1cGxvYWRNYW55KGRhdGFbXCJpbWFnZXNcIl0sIGVycm9yLCBub3RfY2hhbmdlZCksXG4gIF0pO1xuXG4gIGNvbnN0IGVyYXNlID0gYXdhaXQgZXJhc2VJbWFnZXMoXG4gICAgb2xkX2ltYWdlcy5maWx0ZXIoKGltYWdlKSA9PiAhbm90X2NoYW5nZWRbaW1hZ2VdKSxcbiAgICBlcnJvclxuICApO1xuXG4gIC8vIGNvbnNvbGUubG9nKFwidGhlIG9sZCBpbWFnZXMgYXJlIDpcIiwgb2xkX2ltYWdlcylcbiAgLy8gY29uc29sZS5sb2coXCJ3ZSBlcmFzZWQgOlwiLCBlcmFzZSlcbiAgLy8gY29uc29sZS5sb2coXCJ0aGUgb25lIG9uIHRoZSBzZXJ2ZXIgYXJlIDpcIiAsIG5vdF9jaGFuZ2VkKVxuXG4gIGNvbnN0IG1vbmdvX3Jlc3BvbnNlID0gYXdhaXQgUHJvZHVjdC51cGRhdGVPbmUoXG4gICAgeyBfaWQ6IG5ldyBUeXBlcy5PYmplY3RJZChfaWQpIH0sXG4gICAge1xuICAgICAgcHJfaW1hZ2VfdXJsLCAvL2FycmF5XG4gICAgICB0YWdzOiBkYXRhLnRhZ3MsIC8vYXJyYXlcbiAgICAgIGFsbF9wcl9pbWFnZV91cmwsIC8vYXJyYXlcbiAgICAgIHByaWNlOiBkYXRhLnByaWNlLCAvL251bWJlclxuICAgICAgY29sb3I6IGRhdGEuY29sb3IsIC8vYXJyYXlcbiAgICAgIGxvY2F0aW9uOiBkYXRhLmxvY2F0aW9uLCAvL3N0cmluZ1xuICAgICAgbWF0ZXJpYWxzOiBkYXRhLm1hdGVyaWFscywgLy9hcnJheVxuICAgICAgY2F0ZWdvcmllczogZGF0YS5jYXRlZ29yaWVzLCAvL2FycmF5XG4gICAgICBkZXNjcmlwdGlvbjogZGF0YS5kZXNjcmlwdGlvbixcbiAgICAgIHByb2R1Y3ROYW1lOiBkYXRhLnByb2R1Y3ROYW1lLCAvL3N0cmluZ1xuICAgICAgcmVwcmVzZW50YXRpb246IGRhdGEucmVwcmVzZW50YXRpb24gfHwgXCJub25lXCIsXG4gICAgfVxuICApLmNhdGNoKChlcnIpID0+IGVycm9yLnB1c2goZXJyLm1lc3NhZ2UpKTtcblxuICBpZiAoZXJyb3IubGVuZ3RoID4gMCkge1xuICAgIHJlcy5zdGF0dXMoNDA2KS5qc29uKHsgbWVzc2FnZTogXCJTb21ldGhpbmcgV2VudCB3cm9uZ1wiLCBlcnJvciB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7IG1vbmdvX3Jlc3BvbnNlLCBlcnJvciB9KTtcbiAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgaGFuZGxlX3B1dDtcbiJdLCJuYW1lcyI6WyJUeXBlcyIsIlByb2R1Y3QiLCJlcmFzZUltYWdlcyIsInVwbG9hZE1hbnkiLCJoYW5kbGVfcHV0IiwicmVxIiwicmVzIiwiZGF0YSIsImJvZHkiLCJfaWQiLCJxdWVyeSIsInByb2R1Y3RfaWQiLCJlcnJvciIsIm5vdF9jaGFuZ2VkIiwib2xkX2ltYWdlcyIsInByX2ltYWdlX3VybCIsImNvbmNhdCIsImFsbF9wcl9pbWFnZV91cmwiLCJtb25nb19wcm9kdWN0IiwiZmluZE9uZSIsIk9iamVjdElkIiwibGVhbiIsIm93bmVyIiwidXNlciIsInJvbGUiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsIlByb21pc2UiLCJhbGwiLCJlcmFzZSIsImZpbHRlciIsImltYWdlIiwibW9uZ29fcmVzcG9uc2UiLCJ1cGRhdGVPbmUiLCJ0YWdzIiwicHJpY2UiLCJjb2xvciIsImxvY2F0aW9uIiwibWF0ZXJpYWxzIiwiY2F0ZWdvcmllcyIsImRlc2NyaXB0aW9uIiwicHJvZHVjdE5hbWUiLCJyZXByZXNlbnRhdGlvbiIsImNhdGNoIiwiZXJyIiwicHVzaCIsImxlbmd0aCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./_api/handlers/product/_put.ts\n");

/***/ }),

/***/ "./_api/handlers/product/index.ts":
/*!****************************************!*\
  !*** ./_api/handlers/product/index.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"PUT_handler\": () => (/* binding */ PUT_handler),\n/* harmony export */   \"POST_handler\": () => (/* binding */ POST_handler),\n/* harmony export */   \"DELETE_handler\": () => (/* binding */ DELETE_handler),\n/* harmony export */   \"GET_handler\": () => (/* binding */ GET_handler),\n/* harmony export */   \"GET_WITH_ID_handler\": () => (/* binding */ GET_WITH_ID_handler),\n/* harmony export */   \"GET_WITH_REPRESENTATION_handler\": () => (/* binding */ GET_WITH_REPRESENTATION_handler)\n/* harmony export */ });\n/* harmony import */ var _put__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./_put */ \"./_api/handlers/product/_put.ts\");\n/* harmony import */ var _get__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./_get */ \"./_api/handlers/product/_get.ts\");\n/* harmony import */ var _post__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./_post */ \"./_api/handlers/product/_post.ts\");\n/* harmony import */ var _delete__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./_delete */ \"./_api/handlers/product/_delete.ts\");\n/* harmony import */ var _get_with_id__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./_get_with_id */ \"./_api/handlers/product/_get_with_id.ts\");\n/* harmony import */ var _get_representation__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./_get_representation */ \"./_api/handlers/product/_get_representation.ts\");\n/* harmony import */ var _middleware_helpers__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../middleware/helpers */ \"./_api/middleware/helpers/index.js\");\n/* harmony import */ var _middleware_enforceRole__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../middleware/enforceRole */ \"./_api/middleware/enforceRole.ts\");\n/* harmony import */ var _middleware_addUser__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../middleware/addUser */ \"./_api/middleware/addUser.ts\");\n\n\n\n\n\n\n\n\n\nconst PUT_handler = (0,_middleware_helpers__WEBPACK_IMPORTED_MODULE_6__.createHandler)(_middleware_addUser__WEBPACK_IMPORTED_MODULE_8__.addUser, (0,_middleware_enforceRole__WEBPACK_IMPORTED_MODULE_7__.enforceRole)(\"seller\"), _put__WEBPACK_IMPORTED_MODULE_0__.default);\nconst POST_handler = (0,_middleware_helpers__WEBPACK_IMPORTED_MODULE_6__.createHandler)(_middleware_addUser__WEBPACK_IMPORTED_MODULE_8__.addUser, (0,_middleware_enforceRole__WEBPACK_IMPORTED_MODULE_7__.enforceRole)(\"seller\"), _post__WEBPACK_IMPORTED_MODULE_2__.default);\nconst DELETE_handler = (0,_middleware_helpers__WEBPACK_IMPORTED_MODULE_6__.createHandler)(_middleware_addUser__WEBPACK_IMPORTED_MODULE_8__.addUser, (0,_middleware_enforceRole__WEBPACK_IMPORTED_MODULE_7__.enforceRole)(\"seller\"), _delete__WEBPACK_IMPORTED_MODULE_3__.default);\nconst GET_handler = _get__WEBPACK_IMPORTED_MODULE_1__.default;\nconst GET_WITH_ID_handler = _get_with_id__WEBPACK_IMPORTED_MODULE_4__.default;\nconst GET_WITH_REPRESENTATION_handler = _get_representation__WEBPACK_IMPORTED_MODULE_5__.default;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9fYXBpL2hhbmRsZXJzL3Byb2R1Y3QvaW5kZXgudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRU8sTUFBTVMsV0FBVyxHQUFHSCxrRUFBYSxDQUFDRSx3REFBRCxFQUFVRCxvRUFBVyxDQUFDLFFBQUQsQ0FBckIsRUFBaUNQLHlDQUFqQyxDQUFqQztBQUNBLE1BQU1VLFlBQVksR0FBR0osa0VBQWEsQ0FBQ0Usd0RBQUQsRUFBVUQsb0VBQVcsQ0FBQyxRQUFELENBQXJCLEVBQWlDTCwwQ0FBakMsQ0FBbEM7QUFDQSxNQUFNUyxjQUFjLEdBQUdMLGtFQUFhLENBQ3pDRSx3REFEeUMsRUFFekNELG9FQUFXLENBQUMsUUFBRCxDQUY4QixFQUd6Q0osNENBSHlDLENBQXBDO0FBS0EsTUFBTVMsV0FBVyxHQUFHWCx5Q0FBcEI7QUFDQSxNQUFNWSxtQkFBbUIsR0FBR1QsaURBQTVCO0FBQ0EsTUFBTVUsK0JBQStCLEdBQUdULHdEQUF4QyIsInNvdXJjZXMiOlsid2VicGFjazovL2NvbW1lcmNlLy4vX2FwaS9oYW5kbGVycy9wcm9kdWN0L2luZGV4LnRzPzc1YWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFBVVCBmcm9tIFwiLi9fcHV0XCI7XG5pbXBvcnQgR0VUIGZyb20gXCIuL19nZXRcIjtcbmltcG9ydCBQT1NUIGZyb20gXCIuL19wb3N0XCI7XG5pbXBvcnQgREVMRVRFIGZyb20gXCIuL19kZWxldGVcIjtcbmltcG9ydCBHRVRfV0lUSF9JRCBmcm9tIFwiLi9fZ2V0X3dpdGhfaWRcIjtcbmltcG9ydCBHRVRfV0lUSF9SRVBSRVNFTlRBVElPTiBmcm9tIFwiLi9fZ2V0X3JlcHJlc2VudGF0aW9uXCI7XG5pbXBvcnQgeyBjcmVhdGVIYW5kbGVyIH0gZnJvbSBcIi4uLy4uL21pZGRsZXdhcmUvaGVscGVyc1wiO1xuaW1wb3J0IHsgZW5mb3JjZVJvbGUgfSBmcm9tIFwiLi4vLi4vbWlkZGxld2FyZS9lbmZvcmNlUm9sZVwiO1xuaW1wb3J0IHsgYWRkVXNlciB9IGZyb20gXCIuLi8uLi9taWRkbGV3YXJlL2FkZFVzZXJcIjtcblxuZXhwb3J0IGNvbnN0IFBVVF9oYW5kbGVyID0gY3JlYXRlSGFuZGxlcihhZGRVc2VyLCBlbmZvcmNlUm9sZShcInNlbGxlclwiKSwgUFVUKTtcbmV4cG9ydCBjb25zdCBQT1NUX2hhbmRsZXIgPSBjcmVhdGVIYW5kbGVyKGFkZFVzZXIsIGVuZm9yY2VSb2xlKFwic2VsbGVyXCIpICxQT1NUKTtcbmV4cG9ydCBjb25zdCBERUxFVEVfaGFuZGxlciA9IGNyZWF0ZUhhbmRsZXIoXG4gIGFkZFVzZXIsXG4gIGVuZm9yY2VSb2xlKFwic2VsbGVyXCIpLFxuICBERUxFVEVcbik7XG5leHBvcnQgY29uc3QgR0VUX2hhbmRsZXIgPSBHRVQ7XG5leHBvcnQgY29uc3QgR0VUX1dJVEhfSURfaGFuZGxlciA9IEdFVF9XSVRIX0lEO1xuZXhwb3J0IGNvbnN0IEdFVF9XSVRIX1JFUFJFU0VOVEFUSU9OX2hhbmRsZXIgPSBHRVRfV0lUSF9SRVBSRVNFTlRBVElPTjtcbiJdLCJuYW1lcyI6WyJQVVQiLCJHRVQiLCJQT1NUIiwiREVMRVRFIiwiR0VUX1dJVEhfSUQiLCJHRVRfV0lUSF9SRVBSRVNFTlRBVElPTiIsImNyZWF0ZUhhbmRsZXIiLCJlbmZvcmNlUm9sZSIsImFkZFVzZXIiLCJQVVRfaGFuZGxlciIsIlBPU1RfaGFuZGxlciIsIkRFTEVURV9oYW5kbGVyIiwiR0VUX2hhbmRsZXIiLCJHRVRfV0lUSF9JRF9oYW5kbGVyIiwiR0VUX1dJVEhfUkVQUkVTRU5UQVRJT05faGFuZGxlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./_api/handlers/product/index.ts\n");

/***/ }),

/***/ "./_api/middleware/addUser.ts":
/*!************************************!*\
  !*** ./_api/middleware/addUser.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"addUser\": () => (/* binding */ addUser)\n/* harmony export */ });\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__);\n\nconst addUser = (req, res, cb) => {\n  const authorization = req.headers.authorization;\n\n  if (!authorization) {\n    req.user = null;\n    return cb(req, res);\n  }\n\n  const token = authorization;\n  jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().verify(token, process.env.JWT_SECRET, (err, user) => {\n    if (err) {\n      req.user = null;\n      cb(req, res);\n      return;\n    }\n\n    req.user = user;\n    cb(req, res);\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9fYXBpL21pZGRsZXdhcmUvYWRkVXNlci50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUVPLE1BQU1DLE9BQU8sR0FBRyxDQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBV0MsRUFBWCxLQUFrQjtBQUN2QyxRQUFNQyxhQUFhLEdBQUdILEdBQUcsQ0FBQ0ksT0FBSixDQUFZRCxhQUFsQzs7QUFDQSxNQUFJLENBQUNBLGFBQUwsRUFBb0I7QUFDbEJILElBQUFBLEdBQUcsQ0FBQ0ssSUFBSixHQUFXLElBQVg7QUFDQSxXQUFPSCxFQUFFLENBQUNGLEdBQUQsRUFBTUMsR0FBTixDQUFUO0FBQ0Q7O0FBRUQsUUFBTUssS0FBSyxHQUFHSCxhQUFkO0FBQ0FMLEVBQUFBLDBEQUFBLENBQVdRLEtBQVgsRUFBa0JFLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxVQUE5QixFQUEwQyxDQUFDQyxHQUFELEVBQU1OLElBQU4sS0FBZTtBQUN2RCxRQUFJTSxHQUFKLEVBQVM7QUFFUFgsTUFBQUEsR0FBRyxDQUFDSyxJQUFKLEdBQVcsSUFBWDtBQUNBSCxNQUFBQSxFQUFFLENBQUNGLEdBQUQsRUFBTUMsR0FBTixDQUFGO0FBQ0E7QUFDRDs7QUFDREQsSUFBQUEsR0FBRyxDQUFDSyxJQUFKLEdBQVdBLElBQVg7QUFDQUgsSUFBQUEsRUFBRSxDQUFDRixHQUFELEVBQU1DLEdBQU4sQ0FBRjtBQUNELEdBVEQ7QUFVRCxDQWxCTSIsInNvdXJjZXMiOlsid2VicGFjazovL2NvbW1lcmNlLy4vX2FwaS9taWRkbGV3YXJlL2FkZFVzZXIudHM/NDkyYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gXCJqc29ud2VidG9rZW5cIjtcblxuZXhwb3J0IGNvbnN0IGFkZFVzZXIgPSAocmVxLCByZXMsIGNiKSA9PiB7XG4gIGNvbnN0IGF1dGhvcml6YXRpb24gPSByZXEuaGVhZGVycy5hdXRob3JpemF0aW9uO1xuICBpZiAoIWF1dGhvcml6YXRpb24pIHtcbiAgICByZXEudXNlciA9IG51bGw7XG4gICAgcmV0dXJuIGNiKHJlcSwgcmVzKTtcbiAgfVxuXG4gIGNvbnN0IHRva2VuID0gYXV0aG9yaXphdGlvbjtcbiAgand0LnZlcmlmeSh0b2tlbiwgcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCwgKGVyciwgdXNlcikgPT4ge1xuICAgIGlmIChlcnIpIHtcblxuICAgICAgcmVxLnVzZXIgPSBudWxsO1xuICAgICAgY2IocmVxLCByZXMpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXEudXNlciA9IHVzZXI7XG4gICAgY2IocmVxLCByZXMpO1xuICB9KTtcbn07XG4iXSwibmFtZXMiOlsiand0IiwiYWRkVXNlciIsInJlcSIsInJlcyIsImNiIiwiYXV0aG9yaXphdGlvbiIsImhlYWRlcnMiLCJ1c2VyIiwidG9rZW4iLCJ2ZXJpZnkiLCJwcm9jZXNzIiwiZW52IiwiSldUX1NFQ1JFVCIsImVyciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./_api/middleware/addUser.ts\n");

/***/ }),

/***/ "./_api/middleware/enforceRole.ts":
/*!****************************************!*\
  !*** ./_api/middleware/enforceRole.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"enforceRole\": () => (/* binding */ enforceRole)\n/* harmony export */ });\n/* harmony import */ var _GLOBALVARIABLE__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../GLOBALVARIABLE */ \"./GLOBALVARIABLE.ts\");\n\nconst enforceRole = role => (req, res, cb) => {\n  if (!req.user || !req.user.role) {\n    return res.status(400).send({\n      message: \"insufficiant authorization\"\n    });\n  } else if (_GLOBALVARIABLE__WEBPACK_IMPORTED_MODULE_0__.role_dic[req.user.role] >= _GLOBALVARIABLE__WEBPACK_IMPORTED_MODULE_0__.role_dic[role]) {\n    cb(req, res);\n  } else {\n    // console.log(\"third one one\")\n    res.status(400).send({\n      message: \"insufficiant authorization\"\n    });\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9fYXBpL21pZGRsZXdhcmUvZW5mb3JjZVJvbGUudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUVPLE1BQU1DLFdBQVcsR0FBSUMsSUFBRCxJQUFVLENBQUNDLEdBQUQsRUFBTUMsR0FBTixFQUFXQyxFQUFYLEtBQWtCO0FBQ3JELE1BQUksQ0FBQ0YsR0FBRyxDQUFDRyxJQUFMLElBQWEsQ0FBQ0gsR0FBRyxDQUFDRyxJQUFKLENBQVNKLElBQTNCLEVBQWlDO0FBQy9CLFdBQU9FLEdBQUcsQ0FBQ0csTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUNDLE1BQUFBLE9BQU8sRUFBRTtBQUFWLEtBQXJCLENBQVA7QUFDRCxHQUZELE1BRU8sSUFBSVQscURBQVEsQ0FBQ0csR0FBRyxDQUFDRyxJQUFKLENBQVNKLElBQVYsQ0FBUixJQUEyQkYscURBQVEsQ0FBQ0UsSUFBRCxDQUF2QyxFQUErQztBQUNwREcsSUFBQUEsRUFBRSxDQUFDRixHQUFELEVBQU1DLEdBQU4sQ0FBRjtBQUNELEdBRk0sTUFFQTtBQUNMO0FBQ0FBLElBQUFBLEdBQUcsQ0FBQ0csTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQUNDLE1BQUFBLE9BQU8sRUFBRTtBQUFWLEtBQXJCO0FBQ0Q7QUFDRixDQVRNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29tbWVyY2UvLi9fYXBpL21pZGRsZXdhcmUvZW5mb3JjZVJvbGUudHM/M2IzNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByb2xlX2RpYyB9IGZyb20gXCIuLi8uLi9HTE9CQUxWQVJJQUJMRVwiXG5cbmV4cG9ydCBjb25zdCBlbmZvcmNlUm9sZSA9IChyb2xlKSA9PiAocmVxLCByZXMsIGNiKSA9PiB7XG4gIGlmICghcmVxLnVzZXIgfHwgIXJlcS51c2VyLnJvbGUpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLnNlbmQoe21lc3NhZ2U6IFwiaW5zdWZmaWNpYW50IGF1dGhvcml6YXRpb25cIn0pXG4gIH0gZWxzZSBpZiAocm9sZV9kaWNbcmVxLnVzZXIucm9sZV0gPj0gcm9sZV9kaWNbcm9sZV0pIHtcbiAgICBjYihyZXEsIHJlcylcbiAgfSBlbHNlIHtcbiAgICAvLyBjb25zb2xlLmxvZyhcInRoaXJkIG9uZSBvbmVcIilcbiAgICByZXMuc3RhdHVzKDQwMCkuc2VuZCh7bWVzc2FnZTogXCJpbnN1ZmZpY2lhbnQgYXV0aG9yaXphdGlvblwifSlcbiAgfVxufSJdLCJuYW1lcyI6WyJyb2xlX2RpYyIsImVuZm9yY2VSb2xlIiwicm9sZSIsInJlcSIsInJlcyIsImNiIiwidXNlciIsInN0YXR1cyIsInNlbmQiLCJtZXNzYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./_api/middleware/enforceRole.ts\n");

/***/ }),

/***/ "./_api/middleware/helpers/index.js":
/*!******************************************!*\
  !*** ./_api/middleware/helpers/index.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createHandler\": () => (/* binding */ createHandler),\n/* harmony export */   \"createCustomMiddlewareChain\": () => (/* binding */ createCustomMiddlewareChain)\n/* harmony export */ });\nconst createHandler = (...args) => {\n  const current_middleware = args.shift();\n  if (args.length == 0) return (req, res) => {\n    current_middleware(req, res);\n  };\n  return (req, res) => {\n    current_middleware(req, res, createHandler(...args));\n  };\n};\nconst createCustomMiddlewareChain = (...args) => {\n  return handler => createHandler(...args, handler);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9fYXBpL21pZGRsZXdhcmUvaGVscGVycy9pbmRleC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUNPLE1BQU1BLGFBQWEsR0FBRyxDQUFDLEdBQUdDLElBQUosS0FBYTtBQUN4QyxRQUFNQyxrQkFBa0IsR0FBR0QsSUFBSSxDQUFDRSxLQUFMLEVBQTNCO0FBRUEsTUFBSUYsSUFBSSxDQUFDRyxNQUFMLElBQWUsQ0FBbkIsRUFDRSxPQUFPLENBQUNDLEdBQUQsRUFBTUMsR0FBTixLQUFjO0FBQ25CSixJQUFBQSxrQkFBa0IsQ0FBQ0csR0FBRCxFQUFNQyxHQUFOLENBQWxCO0FBQ0QsR0FGRDtBQUlGLFNBQU8sQ0FBQ0QsR0FBRCxFQUFNQyxHQUFOLEtBQWM7QUFDbkJKLElBQUFBLGtCQUFrQixDQUFDRyxHQUFELEVBQU1DLEdBQU4sRUFBV04sYUFBYSxDQUFDLEdBQUdDLElBQUosQ0FBeEIsQ0FBbEI7QUFDRCxHQUZEO0FBR0QsQ0FYTTtBQWFBLE1BQU1NLDJCQUEyQixHQUFHLENBQUMsR0FBR04sSUFBSixLQUFhO0FBQ3RELFNBQU9PLE9BQU8sSUFBSVIsYUFBYSxDQUFDLEdBQUdDLElBQUosRUFBVU8sT0FBVixDQUEvQjtBQUNELENBRk0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb21tZXJjZS8uL19hcGkvbWlkZGxld2FyZS9oZWxwZXJzL2luZGV4LmpzPzUwYzAiXSwic291cmNlc0NvbnRlbnQiOlsiXG5leHBvcnQgY29uc3QgY3JlYXRlSGFuZGxlciA9ICguLi5hcmdzKSA9PiB7XG4gIGNvbnN0IGN1cnJlbnRfbWlkZGxld2FyZSA9IGFyZ3Muc2hpZnQoKTtcblxuICBpZiAoYXJncy5sZW5ndGggPT0gMClcbiAgICByZXR1cm4gKHJlcSwgcmVzKSA9PiB7XG4gICAgICBjdXJyZW50X21pZGRsZXdhcmUocmVxLCByZXMpO1xuICAgIH07XG5cbiAgcmV0dXJuIChyZXEsIHJlcykgPT4ge1xuICAgIGN1cnJlbnRfbWlkZGxld2FyZShyZXEsIHJlcywgY3JlYXRlSGFuZGxlciguLi5hcmdzKSk7XG4gIH07XG59O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlQ3VzdG9tTWlkZGxld2FyZUNoYWluID0gKC4uLmFyZ3MpID0+IHtcbiAgcmV0dXJuIGhhbmRsZXIgPT4gY3JlYXRlSGFuZGxlciguLi5hcmdzLCBoYW5kbGVyKVxufSJdLCJuYW1lcyI6WyJjcmVhdGVIYW5kbGVyIiwiYXJncyIsImN1cnJlbnRfbWlkZGxld2FyZSIsInNoaWZ0IiwibGVuZ3RoIiwicmVxIiwicmVzIiwiY3JlYXRlQ3VzdG9tTWlkZGxld2FyZUNoYWluIiwiaGFuZGxlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./_api/middleware/helpers/index.js\n");

/***/ }),

/***/ "./_api/middleware/mongodb.ts":
/*!************************************!*\
  !*** ./_api/middleware/mongodb.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\n\nconst connectDB = handler => async (req, res) => {\n  if ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().connections[0].readyState)) {\n    return handler(req, res);\n  }\n\n  await mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(\"mongodb+srv://Daniel:KAjObl1b4UQPjjRC@cluster0.bz5mc.mongodb.net/KdShop?retryWrites=true&w=majority\", {}, () => console.log(\"I am connnected\"));\n  return handler(req, res);\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (connectDB);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9fYXBpL21pZGRsZXdhcmUvbW9uZ29kYi50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7QUFFQSxNQUFNQyxTQUFTLEdBQUdDLE9BQU8sSUFBSSxPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDL0MsTUFBSUosMkVBQUosRUFBd0M7QUFDdEMsV0FBT0UsT0FBTyxDQUFDQyxHQUFELEVBQU1DLEdBQU4sQ0FBZDtBQUNEOztBQUVELFFBQU1KLHVEQUFBLENBQWlCUSxxR0FBakIsRUFBeUMsRUFBekMsRUFDSCxNQUFNRyxPQUFPLENBQUNDLEdBQVIsQ0FBWSxpQkFBWixDQURILENBQU47QUFHQSxTQUFPVixPQUFPLENBQUNDLEdBQUQsRUFBTUMsR0FBTixDQUFkO0FBQ0QsQ0FURDs7QUFXQSxpRUFBZUgsU0FBZiIsInNvdXJjZXMiOlsid2VicGFjazovL2NvbW1lcmNlLy4vX2FwaS9taWRkbGV3YXJlL21vbmdvZGIudHM/ZDVmNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xuXG5jb25zdCBjb25uZWN0REIgPSBoYW5kbGVyID0+IGFzeW5jIChyZXEsIHJlcykgPT4ge1xuICBpZiAobW9uZ29vc2UuY29ubmVjdGlvbnNbMF0ucmVhZHlTdGF0ZSkge1xuICAgIHJldHVybiBoYW5kbGVyKHJlcSwgcmVzKTtcbiAgfVxuICBcbiAgYXdhaXQgbW9uZ29vc2UuY29ubmVjdChwcm9jZXNzLmVudi5tb25nb2RidXJsLCB7XG4gIH0sICgpID0+IGNvbnNvbGUubG9nKFwiSSBhbSBjb25ubmVjdGVkXCIpKTtcblxuICByZXR1cm4gaGFuZGxlcihyZXEsIHJlcyk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0REI7Il0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiY29ubmVjdERCIiwiaGFuZGxlciIsInJlcSIsInJlcyIsImNvbm5lY3Rpb25zIiwicmVhZHlTdGF0ZSIsImNvbm5lY3QiLCJwcm9jZXNzIiwiZW52IiwibW9uZ29kYnVybCIsImNvbnNvbGUiLCJsb2ciXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./_api/middleware/mongodb.ts\n");

/***/ }),

/***/ "./_api/models/Product.ts":
/*!********************************!*\
  !*** ./_api/models/Product.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"product\": () => (/* binding */ product),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nvar Schema = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema);\nconst product = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n  productName: {\n    type: String,\n    required: true\n  },\n  categories: {\n    type: Array,\n    required: true\n  },\n  description: {\n    type: String,\n    required: true\n  },\n  price: {\n    type: Number,\n    required: true\n  },\n  tags: {\n    type: Array,\n    required: true\n  },\n  rating: {\n    type: Number\n  },\n  location: {\n    type: String,\n    default: \"unknown\"\n  },\n  related: {\n    type: Array\n  },\n  owner: {\n    type: Schema.Types.ObjectId,\n    ref: \"User\"\n  },\n  pr_image_url: {\n    type: Array,\n    required: true\n  },\n  all_pr_image_url: {\n    type: Array,\n    required: true,\n    minlength: 2\n  },\n  representation: {\n    type: String,\n    default: \"none\"\n  },\n  addedAt: {\n    type: Number,\n    required: true\n  }\n}, {\n  strict: false\n}); // @ts-ignore\n\n(mongoose__WEBPACK_IMPORTED_MODULE_0___default().models) = {\n  owner: \"\"\n};\nvar Product = mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"Product\", product); // Product.watch().\n//     on('change', data => console.log(new Date(), data));\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Product);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9fYXBpL21vZGVscy9Qcm9kdWN0LnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQUNBLElBQUlDLE1BQU0sR0FBR0Qsd0RBQWI7QUFFTyxNQUFNRSxPQUFPLEdBQUcsSUFBSUYsd0RBQUosQ0FDckI7QUFDRUcsRUFBQUEsV0FBVyxFQUFFO0FBQ1hDLElBQUFBLElBQUksRUFBRUMsTUFESztBQUVYQyxJQUFBQSxRQUFRLEVBQUU7QUFGQyxHQURmO0FBS0VDLEVBQUFBLFVBQVUsRUFBRTtBQUNWSCxJQUFBQSxJQUFJLEVBQUVJLEtBREk7QUFFVkYsSUFBQUEsUUFBUSxFQUFFO0FBRkEsR0FMZDtBQVNFRyxFQUFBQSxXQUFXLEVBQUU7QUFDWEwsSUFBQUEsSUFBSSxFQUFFQyxNQURLO0FBRVhDLElBQUFBLFFBQVEsRUFBRTtBQUZDLEdBVGY7QUFhRUksRUFBQUEsS0FBSyxFQUFFO0FBQ0xOLElBQUFBLElBQUksRUFBRU8sTUFERDtBQUVMTCxJQUFBQSxRQUFRLEVBQUU7QUFGTCxHQWJUO0FBaUJFTSxFQUFBQSxJQUFJLEVBQUU7QUFDSlIsSUFBQUEsSUFBSSxFQUFFSSxLQURGO0FBRUpGLElBQUFBLFFBQVEsRUFBRTtBQUZOLEdBakJSO0FBcUJFTyxFQUFBQSxNQUFNLEVBQUU7QUFDTlQsSUFBQUEsSUFBSSxFQUFFTztBQURBLEdBckJWO0FBd0JFRyxFQUFBQSxRQUFRLEVBQUU7QUFDUlYsSUFBQUEsSUFBSSxFQUFFQyxNQURFO0FBRVJVLElBQUFBLE9BQU8sRUFBRTtBQUZELEdBeEJaO0FBNEJFQyxFQUFBQSxPQUFPLEVBQUU7QUFDUFosSUFBQUEsSUFBSSxFQUFFSTtBQURDLEdBNUJYO0FBK0JFUyxFQUFBQSxLQUFLLEVBQUU7QUFDTGIsSUFBQUEsSUFBSSxFQUFFSCxNQUFNLENBQUNpQixLQUFQLENBQWFDLFFBRGQ7QUFFTEMsSUFBQUEsR0FBRyxFQUFFO0FBRkEsR0EvQlQ7QUFrQ0VDLEVBQUFBLFlBQVksRUFBRTtBQUNaakIsSUFBQUEsSUFBSSxFQUFFSSxLQURNO0FBRVpGLElBQUFBLFFBQVEsRUFBRTtBQUZFLEdBbENoQjtBQXNDRWdCLEVBQUFBLGdCQUFnQixFQUFFO0FBQ2hCbEIsSUFBQUEsSUFBSSxFQUFFSSxLQURVO0FBRWhCRixJQUFBQSxRQUFRLEVBQUUsSUFGTTtBQUdoQmlCLElBQUFBLFNBQVMsRUFBRTtBQUhLLEdBdENwQjtBQTJDRUMsRUFBQUEsY0FBYyxFQUFFO0FBQ2RwQixJQUFBQSxJQUFJLEVBQUVDLE1BRFE7QUFFZFUsSUFBQUEsT0FBTyxFQUFFO0FBRkssR0EzQ2xCO0FBK0NFVSxFQUFBQSxPQUFPLEVBQUM7QUFDTnJCLElBQUFBLElBQUksRUFBRU8sTUFEQTtBQUVOTCxJQUFBQSxRQUFRLEVBQUU7QUFGSjtBQS9DVixDQURxQixFQXFEckI7QUFBRW9CLEVBQUFBLE1BQU0sRUFBRTtBQUFWLENBckRxQixDQUFoQixFQXdEUDs7QUFDQTFCLHdEQUFBLEdBQWtCO0FBQ2hCaUIsRUFBQUEsS0FBSyxFQUFFO0FBRFMsQ0FBbEI7QUFJQSxJQUFJVyxPQUFPLEdBQUc1QixxREFBQSxDQUFlLFNBQWYsRUFBMEJFLE9BQTFCLENBQWQsRUFFQTtBQUNBOztBQUNBLGlFQUFlMEIsT0FBZiIsInNvdXJjZXMiOlsid2VicGFjazovL2NvbW1lcmNlLy4vX2FwaS9tb2RlbHMvUHJvZHVjdC50cz80YmVkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcbnZhciBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWE7XG5cbmV4cG9ydCBjb25zdCBwcm9kdWN0ID0gbmV3IG1vbmdvb3NlLlNjaGVtYShcbiAge1xuICAgIHByb2R1Y3ROYW1lOiB7XG4gICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICB9LFxuICAgIGNhdGVnb3JpZXM6IHtcbiAgICAgIHR5cGU6IEFycmF5LFxuICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgfSxcbiAgICBkZXNjcmlwdGlvbjoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgfSxcbiAgICBwcmljZToge1xuICAgICAgdHlwZTogTnVtYmVyLFxuICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgfSxcbiAgICB0YWdzOiB7XG4gICAgICB0eXBlOiBBcnJheSxcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgIH0sXG4gICAgcmF0aW5nOiB7XG4gICAgICB0eXBlOiBOdW1iZXIsXG4gICAgfSxcbiAgICBsb2NhdGlvbjoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogXCJ1bmtub3duXCIsXG4gICAgfSxcbiAgICByZWxhdGVkOiB7XG4gICAgICB0eXBlOiBBcnJheSxcbiAgICB9LFxuICAgIG93bmVyOiB7IFxuICAgICAgdHlwZTogU2NoZW1hLlR5cGVzLk9iamVjdElkLCBcbiAgICAgIHJlZjogXCJVc2VyXCIgfSxcbiAgICBwcl9pbWFnZV91cmw6IHtcbiAgICAgIHR5cGU6IEFycmF5LFxuICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgfSxcbiAgICBhbGxfcHJfaW1hZ2VfdXJsOiB7XG4gICAgICB0eXBlOiBBcnJheSxcbiAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgbWlubGVuZ3RoOiAyLFxuICAgIH0sXG4gICAgcmVwcmVzZW50YXRpb246IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIGRlZmF1bHQ6IFwibm9uZVwiLFxuICAgIH0sXG4gICAgYWRkZWRBdDp7XG4gICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICB9XG4gIH0sXG4gIHsgc3RyaWN0OiBmYWxzZSB9XG4pO1xuXG4vLyBAdHMtaWdub3JlXG5tb25nb29zZS5tb2RlbHMgPSB7XG4gIG93bmVyOiBcIlwiLFxufTtcblxudmFyIFByb2R1Y3QgPSBtb25nb29zZS5tb2RlbChcIlByb2R1Y3RcIiwgcHJvZHVjdCk7XG5cbi8vIFByb2R1Y3Qud2F0Y2goKS5cbi8vICAgICBvbignY2hhbmdlJywgZGF0YSA9PiBjb25zb2xlLmxvZyhuZXcgRGF0ZSgpLCBkYXRhKSk7XG5leHBvcnQgZGVmYXVsdCBQcm9kdWN0O1xuIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiU2NoZW1hIiwicHJvZHVjdCIsInByb2R1Y3ROYW1lIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiY2F0ZWdvcmllcyIsIkFycmF5IiwiZGVzY3JpcHRpb24iLCJwcmljZSIsIk51bWJlciIsInRhZ3MiLCJyYXRpbmciLCJsb2NhdGlvbiIsImRlZmF1bHQiLCJyZWxhdGVkIiwib3duZXIiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwicHJfaW1hZ2VfdXJsIiwiYWxsX3ByX2ltYWdlX3VybCIsIm1pbmxlbmd0aCIsInJlcHJlc2VudGF0aW9uIiwiYWRkZWRBdCIsInN0cmljdCIsIm1vZGVscyIsIlByb2R1Y3QiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./_api/models/Product.ts\n");

/***/ }),

/***/ "./_api/models/contact_message.ts":
/*!****************************************!*\
  !*** ./_api/models/contact_message.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"contactMessage\": () => (/* binding */ contactMessage),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nvar Schema = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema);\nconst contactMessage = new Schema({\n  msg: {\n    type: String,\n    required: true\n  },\n  focus: {\n    type: Array,\n    required: true\n  }\n}); // @ts-ignore\n\n(mongoose__WEBPACK_IMPORTED_MODULE_0___default().models) = {};\nvar ContactMessage = mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('ContactMessage', contactMessage);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (ContactMessage);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9fYXBpL21vZGVscy9jb250YWN0X21lc3NhZ2UudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0EsSUFBSUMsTUFBTSxHQUFHRCx3REFBYjtBQUVPLE1BQU1FLGNBQWMsR0FBRyxJQUFJRCxNQUFKLENBQVc7QUFDdkNFLEVBQUFBLEdBQUcsRUFBQztBQUNGQyxJQUFBQSxJQUFJLEVBQUVDLE1BREo7QUFFRkMsSUFBQUEsUUFBUSxFQUFFO0FBRlIsR0FEbUM7QUFLdkNDLEVBQUFBLEtBQUssRUFBQztBQUNKSCxJQUFBQSxJQUFJLEVBQUVJLEtBREY7QUFFSkYsSUFBQUEsUUFBUSxFQUFFO0FBRk47QUFMaUMsQ0FBWCxDQUF2QixFQVdQOztBQUNBTix3REFBQSxHQUFrQixFQUFsQjtBQUNBLElBQUlVLGNBQWMsR0FBR1YscURBQUEsQ0FBZSxnQkFBZixFQUFpQ0UsY0FBakMsQ0FBckI7QUFDQSxpRUFBZVEsY0FBZiIsInNvdXJjZXMiOlsid2VicGFjazovL2NvbW1lcmNlLy4vX2FwaS9tb2RlbHMvY29udGFjdF9tZXNzYWdlLnRzP2RlZjAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbnZhciBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWE7XG5cbmV4cG9ydCBjb25zdCBjb250YWN0TWVzc2FnZSA9IG5ldyBTY2hlbWEoe1xuICBtc2c6e1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgfSxcbiAgZm9jdXM6e1xuICAgIHR5cGU6IEFycmF5LFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICB9XG59KTtcblxuLy8gQHRzLWlnbm9yZVxubW9uZ29vc2UubW9kZWxzID0ge307XG52YXIgQ29udGFjdE1lc3NhZ2UgPSBtb25nb29zZS5tb2RlbCgnQ29udGFjdE1lc3NhZ2UnLCBjb250YWN0TWVzc2FnZSk7XG5leHBvcnQgZGVmYXVsdCBDb250YWN0TWVzc2FnZTsiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJTY2hlbWEiLCJjb250YWN0TWVzc2FnZSIsIm1zZyIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsImZvY3VzIiwiQXJyYXkiLCJtb2RlbHMiLCJDb250YWN0TWVzc2FnZSIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./_api/models/contact_message.ts\n");

/***/ }),

/***/ "./_api/models/feedback.ts":
/*!*********************************!*\
  !*** ./_api/models/feedback.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"feedback\": () => (/* binding */ feedback),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nvar Schema = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema);\nconst feedback = new Schema({\n  msg: {\n    type: String,\n    required: true\n  },\n  focus: {\n    type: Array,\n    required: true\n  }\n}); // @ts-ignore\n\n(mongoose__WEBPACK_IMPORTED_MODULE_0___default().models) = {};\nvar Feedback = mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('Feedback', feedback);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Feedback);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9fYXBpL21vZGVscy9mZWVkYmFjay50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7QUFDQSxJQUFJQyxNQUFNLEdBQUdELHdEQUFiO0FBRU8sTUFBTUUsUUFBUSxHQUFHLElBQUlELE1BQUosQ0FBVztBQUNqQ0UsRUFBQUEsR0FBRyxFQUFDO0FBQ0ZDLElBQUFBLElBQUksRUFBRUMsTUFESjtBQUVGQyxJQUFBQSxRQUFRLEVBQUU7QUFGUixHQUQ2QjtBQUtqQ0MsRUFBQUEsS0FBSyxFQUFDO0FBQ0pILElBQUFBLElBQUksRUFBRUksS0FERjtBQUVKRixJQUFBQSxRQUFRLEVBQUU7QUFGTjtBQUwyQixDQUFYLENBQWpCLEVBV1A7O0FBQ0FOLHdEQUFBLEdBQWtCLEVBQWxCO0FBQ0EsSUFBSVUsUUFBUSxHQUFHVixxREFBQSxDQUFlLFVBQWYsRUFBMkJFLFFBQTNCLENBQWY7QUFDQSxpRUFBZVEsUUFBZiIsInNvdXJjZXMiOlsid2VicGFjazovL2NvbW1lcmNlLy4vX2FwaS9tb2RlbHMvZmVlZGJhY2sudHM/YTY5NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xudmFyIFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYTtcblxuZXhwb3J0IGNvbnN0IGZlZWRiYWNrID0gbmV3IFNjaGVtYSh7XG4gIG1zZzp7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIHJlcXVpcmVkOiB0cnVlLFxuICB9LFxuICBmb2N1czp7XG4gICAgdHlwZTogQXJyYXksXG4gICAgcmVxdWlyZWQ6IHRydWUsXG4gIH1cbn0pO1xuXG4vLyBAdHMtaWdub3JlXG5tb25nb29zZS5tb2RlbHMgPSB7fTtcbnZhciBGZWVkYmFjayA9IG1vbmdvb3NlLm1vZGVsKCdGZWVkYmFjaycsIGZlZWRiYWNrKTtcbmV4cG9ydCBkZWZhdWx0IEZlZWRiYWNrOyJdLCJuYW1lcyI6WyJtb25nb29zZSIsIlNjaGVtYSIsImZlZWRiYWNrIiwibXNnIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwiZm9jdXMiLCJBcnJheSIsIm1vZGVscyIsIkZlZWRiYWNrIiwibW9kZWwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./_api/models/feedback.ts\n");

/***/ }),

/***/ "./_api/models/index.ts":
/*!******************************!*\
  !*** ./_api/models/index.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"User\": () => (/* binding */ User),\n/* harmony export */   \"Product\": () => (/* binding */ Product),\n/* harmony export */   \"Feedback\": () => (/* binding */ Feedback),\n/* harmony export */   \"RefreshToken\": () => (/* binding */ RefreshToken),\n/* harmony export */   \"ContactMessage\": () => (/* binding */ ContactMessage)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _user__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./user */ \"./_api/models/user.ts\");\n/* harmony import */ var _Product__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Product */ \"./_api/models/Product.ts\");\n/* harmony import */ var _feedback__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./feedback */ \"./_api/models/feedback.ts\");\n/* harmony import */ var _refreshToken__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./refreshToken */ \"./_api/models/refreshToken.ts\");\n/* harmony import */ var _contact_message__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./contact_message */ \"./_api/models/contact_message.ts\");\n\n\n\n\n\n\nconst User = mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"User\", _user__WEBPACK_IMPORTED_MODULE_1__.user);\nconst Product = mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"Product\", _Product__WEBPACK_IMPORTED_MODULE_2__.product);\nconst Feedback = mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"Feedback\", _feedback__WEBPACK_IMPORTED_MODULE_3__.feedback);\nconst RefreshToken = mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"RefreshToken\", _refreshToken__WEBPACK_IMPORTED_MODULE_4__.refreshToken);\nconst ContactMessage = mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"ContactMessage\", _contact_message__WEBPACK_IMPORTED_MODULE_5__.contactMessage);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9fYXBpL21vZGVscy9pbmRleC50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFTyxNQUFNTSxJQUFJLEdBQUdOLHFEQUFBLENBQWUsTUFBZixFQUF1QkMsdUNBQXZCLENBQWI7QUFDQSxNQUFNTyxPQUFPLEdBQUdSLHFEQUFBLENBQWUsU0FBZixFQUEwQkUsNkNBQTFCLENBQWhCO0FBQ0EsTUFBTU8sUUFBUSxHQUFHVCxxREFBQSxDQUFlLFVBQWYsRUFBMkJHLCtDQUEzQixDQUFqQjtBQUNBLE1BQU1PLFlBQVksR0FBR1YscURBQUEsQ0FBZSxjQUFmLEVBQStCSSx1REFBL0IsQ0FBckI7QUFDQSxNQUFNTyxjQUFjLEdBQUdYLHFEQUFBLENBQWUsZ0JBQWYsRUFBaUNLLDREQUFqQyxDQUF2QiIsInNvdXJjZXMiOlsid2VicGFjazovL2NvbW1lcmNlLy4vX2FwaS9tb2RlbHMvaW5kZXgudHM/ZTNjMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XG5pbXBvcnQgeyB1c2VyIH0gZnJvbSBcIi4vdXNlclwiO1xuaW1wb3J0IHsgcHJvZHVjdCB9IGZyb20gXCIuL1Byb2R1Y3RcIjtcbmltcG9ydCB7IGZlZWRiYWNrIH0gZnJvbSBcIi4vZmVlZGJhY2tcIjtcbmltcG9ydCB7IHJlZnJlc2hUb2tlbiB9IGZyb20gXCIuL3JlZnJlc2hUb2tlblwiO1xuaW1wb3J0IHsgY29udGFjdE1lc3NhZ2UgfSBmcm9tIFwiLi9jb250YWN0X21lc3NhZ2VcIjtcblxuZXhwb3J0IGNvbnN0IFVzZXIgPSBtb25nb29zZS5tb2RlbChcIlVzZXJcIiwgdXNlcik7XG5leHBvcnQgY29uc3QgUHJvZHVjdCA9IG1vbmdvb3NlLm1vZGVsKFwiUHJvZHVjdFwiLCBwcm9kdWN0KTtcbmV4cG9ydCBjb25zdCBGZWVkYmFjayA9IG1vbmdvb3NlLm1vZGVsKFwiRmVlZGJhY2tcIiwgZmVlZGJhY2spO1xuZXhwb3J0IGNvbnN0IFJlZnJlc2hUb2tlbiA9IG1vbmdvb3NlLm1vZGVsKFwiUmVmcmVzaFRva2VuXCIsIHJlZnJlc2hUb2tlbik7XG5leHBvcnQgY29uc3QgQ29udGFjdE1lc3NhZ2UgPSBtb25nb29zZS5tb2RlbChcIkNvbnRhY3RNZXNzYWdlXCIsIGNvbnRhY3RNZXNzYWdlKTtcbiJdLCJuYW1lcyI6WyJtb25nb29zZSIsInVzZXIiLCJwcm9kdWN0IiwiZmVlZGJhY2siLCJyZWZyZXNoVG9rZW4iLCJjb250YWN0TWVzc2FnZSIsIlVzZXIiLCJtb2RlbCIsIlByb2R1Y3QiLCJGZWVkYmFjayIsIlJlZnJlc2hUb2tlbiIsIkNvbnRhY3RNZXNzYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./_api/models/index.ts\n");

/***/ }),

/***/ "./_api/models/refreshToken.ts":
/*!*************************************!*\
  !*** ./_api/models/refreshToken.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"refreshToken\": () => (/* binding */ refreshToken)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nvar Schema = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema);\nconst refreshToken = new Schema({\n  token: {\n    type: String,\n    required: true\n  },\n  userId: {\n    type: String,\n    required: true\n  },\n  generatedAt: {\n    type: Date,\n    default: new Date()\n  }\n}); // @ts-ignore\n// mongoose.models = {};\n// var RefreshToken = mongoose.model('refreshToken', refreshToken);\n// export default RefreshToken;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9fYXBpL21vZGVscy9yZWZyZXNoVG9rZW4udHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQSxJQUFJQyxNQUFNLEdBQUdELHdEQUFiO0FBRU8sTUFBTUUsWUFBWSxHQUFHLElBQUlELE1BQUosQ0FBVztBQUNyQ0UsRUFBQUEsS0FBSyxFQUFDO0FBQ0pDLElBQUFBLElBQUksRUFBRUMsTUFERjtBQUVKQyxJQUFBQSxRQUFRLEVBQUU7QUFGTixHQUQrQjtBQUtyQ0MsRUFBQUEsTUFBTSxFQUFDO0FBQ0xILElBQUFBLElBQUksRUFBRUMsTUFERDtBQUVMQyxJQUFBQSxRQUFRLEVBQUU7QUFGTCxHQUw4QjtBQVNyQ0UsRUFBQUEsV0FBVyxFQUFFO0FBQ1hKLElBQUFBLElBQUksRUFBRUssSUFESztBQUVYQyxJQUFBQSxPQUFPLEVBQUMsSUFBSUQsSUFBSjtBQUZHO0FBVHdCLENBQVgsQ0FBckIsRUFlUDtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NvbW1lcmNlLy4vX2FwaS9tb2RlbHMvcmVmcmVzaFRva2VuLnRzP2M1YjQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gJ21vbmdvb3NlJztcbnZhciBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWE7XG5cbmV4cG9ydCBjb25zdCByZWZyZXNoVG9rZW4gPSBuZXcgU2NoZW1hKHtcbiAgdG9rZW46e1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgfSxcbiAgdXNlcklkOntcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgcmVxdWlyZWQ6IHRydWUsXG4gIH0sXG4gIGdlbmVyYXRlZEF0OiB7XG4gICAgdHlwZTogRGF0ZSxcbiAgICBkZWZhdWx0Om5ldyBEYXRlKCksXG4gIH1cbn0pO1xuXG4vLyBAdHMtaWdub3JlXG4vLyBtb25nb29zZS5tb2RlbHMgPSB7fTtcbi8vIHZhciBSZWZyZXNoVG9rZW4gPSBtb25nb29zZS5tb2RlbCgncmVmcmVzaFRva2VuJywgcmVmcmVzaFRva2VuKTtcbi8vIGV4cG9ydCBkZWZhdWx0IFJlZnJlc2hUb2tlbjsiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJTY2hlbWEiLCJyZWZyZXNoVG9rZW4iLCJ0b2tlbiIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsInVzZXJJZCIsImdlbmVyYXRlZEF0IiwiRGF0ZSIsImRlZmF1bHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./_api/models/refreshToken.ts\n");

/***/ }),

/***/ "./_api/models/user.ts":
/*!*****************************!*\
  !*** ./_api/models/user.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"user\": () => (/* binding */ user)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nvar Schema = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema);\nconst user = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n  username: {\n    type: String,\n    required: true\n  },\n  password: {\n    type: String,\n    required: true\n  },\n  role: {\n    type: String,\n    default: \"user\"\n  },\n  cart: {\n    type: Array,\n    default: []\n  },\n  phoneNumber: {\n    type: String\n  },\n  firstName: {\n    type: String\n  },\n  lastName: {\n    type: String\n  },\n  pr_pic: {\n    type: String\n  },\n  email: {\n    type: String\n  },\n  Oauth: {\n    method: {\n      type: String\n    },\n    id: {\n      type: String\n    }\n  }\n}); // @ts-ignore\n// mongoose.models = {};\n// const User = mongoose.model(\"User\", user);\n// export default User;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9fYXBpL21vZGVscy91c2VyLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0EsSUFBSUMsTUFBTSxHQUFHRCx3REFBYjtBQWFPLE1BQU1FLElBQUksR0FBRyxJQUFJRix3REFBSixDQUFvQjtBQUN0Q0csRUFBQUEsUUFBUSxFQUFFO0FBQ1JDLElBQUFBLElBQUksRUFBRUMsTUFERTtBQUVSQyxJQUFBQSxRQUFRLEVBQUU7QUFGRixHQUQ0QjtBQUt0Q0MsRUFBQUEsUUFBUSxFQUFFO0FBQ1JILElBQUFBLElBQUksRUFBRUMsTUFERTtBQUVSQyxJQUFBQSxRQUFRLEVBQUU7QUFGRixHQUw0QjtBQVN0Q0UsRUFBQUEsSUFBSSxFQUFFO0FBQ0pKLElBQUFBLElBQUksRUFBRUMsTUFERjtBQUVKSSxJQUFBQSxPQUFPLEVBQUU7QUFGTCxHQVRnQztBQWF0Q0MsRUFBQUEsSUFBSSxFQUFFO0FBQ0pOLElBQUFBLElBQUksRUFBRU8sS0FERjtBQUVKRixJQUFBQSxPQUFPLEVBQUU7QUFGTCxHQWJnQztBQWlCdENHLEVBQUFBLFdBQVcsRUFBRTtBQUNYUixJQUFBQSxJQUFJLEVBQUVDO0FBREssR0FqQnlCO0FBb0J0Q1EsRUFBQUEsU0FBUyxFQUFFO0FBQ1RULElBQUFBLElBQUksRUFBRUM7QUFERyxHQXBCMkI7QUF1QnRDUyxFQUFBQSxRQUFRLEVBQUU7QUFDUlYsSUFBQUEsSUFBSSxFQUFFQztBQURFLEdBdkI0QjtBQTBCdENVLEVBQUFBLE1BQU0sRUFBRTtBQUNOWCxJQUFBQSxJQUFJLEVBQUVDO0FBREEsR0ExQjhCO0FBNkJ0Q1csRUFBQUEsS0FBSyxFQUFDO0FBQ0paLElBQUFBLElBQUksRUFBRUM7QUFERixHQTdCZ0M7QUFnQ3RDWSxFQUFBQSxLQUFLLEVBQUU7QUFDTEMsSUFBQUEsTUFBTSxFQUFDO0FBQ0xkLE1BQUFBLElBQUksRUFBRUM7QUFERCxLQURGO0FBSUxjLElBQUFBLEVBQUUsRUFBQztBQUNEZixNQUFBQSxJQUFJLEVBQUVDO0FBREw7QUFKRTtBQWhDK0IsQ0FBcEIsQ0FBYixFQTBDUDtBQUNBO0FBQ0E7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2NvbW1lcmNlLy4vX2FwaS9tb2RlbHMvdXNlci50cz8wNDc0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcbnZhciBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWE7XG5cbmV4cG9ydCB0eXBlIHVzZXJUeXBlID0ge1xuICB1c2VybmFtZTogc3RyaW5nO1xuICBwYXNzd29yZDogc3RyaW5nO1xuICByb2xlOiBzdHJpbmc7XG4gIGNhcnQ6IFtdO1xuICBfaWQ6IHN0cmluZztcbiAgcGhvbmVudW1iZXI6IHN0cmluZztcbiAgZmlyc3ROYW1lOiBzdHJpbmc7XG4gIGxhc3ROYW1lOiBzdHJpbmc7XG59O1xuXG5leHBvcnQgY29uc3QgdXNlciA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xuICB1c2VybmFtZToge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgfSxcbiAgcGFzc3dvcmQ6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgcmVxdWlyZWQ6IHRydWUsXG4gIH0sXG4gIHJvbGU6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgZGVmYXVsdDogXCJ1c2VyXCIsXG4gIH0sXG4gIGNhcnQ6IHtcbiAgICB0eXBlOiBBcnJheSxcbiAgICBkZWZhdWx0OiBbXSxcbiAgfSxcbiAgcGhvbmVOdW1iZXI6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gIH0sXG4gIGZpcnN0TmFtZToge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgfSxcbiAgbGFzdE5hbWU6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gIH0sXG4gIHByX3BpYzoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgfSxcbiAgZW1haWw6e1xuICAgIHR5cGU6IFN0cmluZ1xuICB9LFxuICBPYXV0aDoge1xuICAgIG1ldGhvZDp7XG4gICAgICB0eXBlOiBTdHJpbmdcbiAgICB9LFxuICAgIGlkOntcbiAgICAgIHR5cGU6IFN0cmluZ1xuICAgIH1cbiAgfVxufSk7XG5cbi8vIEB0cy1pZ25vcmVcbi8vIG1vbmdvb3NlLm1vZGVscyA9IHt9O1xuLy8gY29uc3QgVXNlciA9IG1vbmdvb3NlLm1vZGVsKFwiVXNlclwiLCB1c2VyKTtcblxuLy8gZXhwb3J0IGRlZmF1bHQgVXNlcjtcbiJdLCJuYW1lcyI6WyJtb25nb29zZSIsIlNjaGVtYSIsInVzZXIiLCJ1c2VybmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsInBhc3N3b3JkIiwicm9sZSIsImRlZmF1bHQiLCJjYXJ0IiwiQXJyYXkiLCJwaG9uZU51bWJlciIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwicHJfcGljIiwiZW1haWwiLCJPYXV0aCIsIm1ldGhvZCIsImlkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./_api/models/user.ts\n");

/***/ }),

/***/ "./_api/utils/cloudinary.ts":
/*!**********************************!*\
  !*** ./_api/utils/cloudinary.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   \"upload\": () => (/* binding */ upload),\n/* harmony export */   \"uploadMany\": () => (/* binding */ uploadMany),\n/* harmony export */   \"eraseImages\": () => (/* binding */ eraseImages)\n/* harmony export */ });\n/* harmony import */ var cloudinary__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cloudinary */ \"cloudinary\");\n/* harmony import */ var cloudinary__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cloudinary__WEBPACK_IMPORTED_MODULE_0__);\n\ncloudinary__WEBPACK_IMPORTED_MODULE_0__.v2.config({\n  cloud_name: process.env.CLOUDINARY_NAME,\n  api_key: process.env.CLOUDINARY_API_KEY,\n  api_secret: process.env.CLOUDINARY_API_SECRET\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (cloudinary__WEBPACK_IMPORTED_MODULE_0__.v2);\nconst upload = async (image, error) => {\n  const productLocation = \"KdShop/\" + new Date().getTime();\n\n  const _response = await cloudinary__WEBPACK_IMPORTED_MODULE_0__.v2.uploader.upload(image, {\n    public_id: productLocation\n  }).catch(err => error.push(err.message));\n\n  return _response;\n};\n/**********Cloudinary upload**************/\n\nconst uploadMany = async (data, error, not_uploaded) => {\n  if (!data) return error.push(\"The data provided does not contain pictures\");\n  const _imagePromise = [];\n\n  for (let i = 0; i < data.length; i++) {\n    const isOnMyServer = new RegExp(\"https://res.cloudinary.com/dkoatnxem\").test(data[i].slice(0, 50));\n\n    if (isOnMyServer) {\n      const image_url = data[i].split(\"image/upload/\")[1];\n      not_uploaded[image_url] = true;\n      _imagePromise[i] = {\n        public_id: image_url\n      };\n    } else {\n      _imagePromise[i] = await upload(data[i], error).catch(err => error.push(err.message));\n    }\n  }\n\n  const _response = await Promise.all(_imagePromise).catch(err => error.push(err.message)); //@ts-ignore\n\n\n  return _response.map(element => element.public_id);\n};\nconst eraseImages = async (images, error) => {\n  const promises = images.map(async image => await cloudinary__WEBPACK_IMPORTED_MODULE_0__.v2.uploader.destroy(image));\n  const result = await Promise.all(promises).catch(err => error.push(err.message));\n  return result;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UixDQUFZSyxRQUFaLEVBQXNCdEIsS0FBdEIsQ0FBNkJDLEdBQUQsSUFBU1IsS0FBSyxDQUFDUyxJQUFOLENBQVdELEdBQUcsQ0FBQ0UsT0FBZixDQUFyQyxDQUFyQjtBQUNBLFNBQU9xQixNQUFQO0FBQ0QsQ0FOTSIsInNvdXJjZXMiOlsid2VicGFjazovL2NvbW1lcmNlLy4vX2FwaS91dGlscy9jbG91ZGluYXJ5LnRzP2M1NjkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdjIgYXMgY2xvdWRpbmFyeSB9IGZyb20gXCJjbG91ZGluYXJ5XCI7XG5cbmNsb3VkaW5hcnkuY29uZmlnKHtcbiAgY2xvdWRfbmFtZTogcHJvY2Vzcy5lbnYuQ0xPVURJTkFSWV9OQU1FLFxuICBhcGlfa2V5OiBwcm9jZXNzLmVudi5DTE9VRElOQVJZX0FQSV9LRVksXG4gIGFwaV9zZWNyZXQ6IHByb2Nlc3MuZW52LkNMT1VESU5BUllfQVBJX1NFQ1JFVCxcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBjbG91ZGluYXJ5O1xuXG5leHBvcnQgY29uc3QgdXBsb2FkID0gYXN5bmMgKGltYWdlLCBlcnJvcikgPT4ge1xuICBjb25zdCBwcm9kdWN0TG9jYXRpb24gPSBcIktkU2hvcC9cIiArIG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICBjb25zdCBfcmVzcG9uc2UgPSBhd2FpdCBjbG91ZGluYXJ5LnVwbG9hZGVyXG4gICAgLnVwbG9hZChpbWFnZSwgeyBwdWJsaWNfaWQ6IHByb2R1Y3RMb2NhdGlvbiB9KVxuICAgIC5jYXRjaCgoZXJyKSA9PiBlcnJvci5wdXNoKGVyci5tZXNzYWdlKSk7XG5cbiAgcmV0dXJuIF9yZXNwb25zZTtcbn07XG5cbi8qKioqKioqKioqQ2xvdWRpbmFyeSB1cGxvYWQqKioqKioqKioqKioqKi9cblxuZXhwb3J0IGNvbnN0IHVwbG9hZE1hbnkgPSBhc3luYyAoZGF0YSwgZXJyb3IsIG5vdF91cGxvYWRlZCkgPT4ge1xuICBpZiAoIWRhdGEpIHJldHVybiBlcnJvci5wdXNoKFwiVGhlIGRhdGEgcHJvdmlkZWQgZG9lcyBub3QgY29udGFpbiBwaWN0dXJlc1wiKTtcbiAgY29uc3QgX2ltYWdlUHJvbWlzZSA9IFtdO1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGlzT25NeVNlcnZlciA9IG5ldyBSZWdFeHAoXG4gICAgICBcImh0dHBzOi8vcmVzLmNsb3VkaW5hcnkuY29tL2Rrb2F0bnhlbVwiXG4gICAgKS50ZXN0KGRhdGFbaV0uc2xpY2UoMCwgNTApKTtcbiAgICBpZiAoaXNPbk15U2VydmVyKSB7XG4gICAgICBjb25zdCBpbWFnZV91cmwgPSBkYXRhW2ldLnNwbGl0KFwiaW1hZ2UvdXBsb2FkL1wiKVsxXVxuICAgICAgbm90X3VwbG9hZGVkW2ltYWdlX3VybF0gPSB0cnVlO1xuICAgICAgX2ltYWdlUHJvbWlzZVtpXSA9IHtwdWJsaWNfaWQ6IGltYWdlX3VybH07XG4gICAgfSBlbHNlIHtcbiAgICAgIF9pbWFnZVByb21pc2VbaV0gPSBhd2FpdCB1cGxvYWQoZGF0YVtpXSwgZXJyb3IpLmNhdGNoKChlcnIpID0+XG4gICAgICAgIGVycm9yLnB1c2goZXJyLm1lc3NhZ2UpXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IF9yZXNwb25zZSA9IGF3YWl0IFByb21pc2UuYWxsKF9pbWFnZVByb21pc2UpLmNhdGNoKChlcnIpID0+XG4gICAgZXJyb3IucHVzaChlcnIubWVzc2FnZSlcbiAgKTtcblxuICAvL0B0cy1pZ25vcmVcbiAgcmV0dXJuIF9yZXNwb25zZS5tYXAoKGVsZW1lbnQpID0+IGVsZW1lbnQucHVibGljX2lkKTtcbn07XG5cbmV4cG9ydCBjb25zdCBlcmFzZUltYWdlcyA9IGFzeW5jIChpbWFnZXMsIGVycm9yKSA9PiB7XG4gIGNvbnN0IHByb21pc2VzID0gaW1hZ2VzLm1hcChcbiAgICBhc3luYyAoaW1hZ2UpID0+IGF3YWl0IGNsb3VkaW5hcnkudXBsb2FkZXIuZGVzdHJveShpbWFnZSlcbiAgKTtcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUHJvbWlzZS5hbGwocHJvbWlzZXMpLmNhdGNoKChlcnIpID0+IGVycm9yLnB1c2goZXJyLm1lc3NhZ2UpKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG4iXSwibmFtZXMiOlsidjIiLCJjbG91ZGluYXJ5IiwiY29uZmlnIiwiY2xvdWRfbmFtZSIsInByb2Nlc3MiLCJlbnYiLCJDTE9VRElOQVJZX05BTUUiLCJhcGlfa2V5IiwiQ0xPVURJTkFSWV9BUElfS0VZIiwiYXBpX3NlY3JldCIsIkNMT1VESU5BUllfQVBJX1NFQ1JFVCIsInVwbG9hZCIsImltYWdlIiwiZXJyb3IiLCJwcm9kdWN0TG9jYXRpb24iLCJEYXRlIiwiZ2V0VGltZSIsIl9yZXNwb25zZSIsInVwbG9hZGVyIiwicHVibGljX2lkIiwiY2F0Y2giLCJlcnIiLCJwdXNoIiwibWVzc2FnZSIsInVwbG9hZE1hbnkiLCJkYXRhIiwibm90X3VwbG9hZGVkIiwiX2ltYWdlUHJvbWlzZSIsImkiLCJsZW5ndGgiLCJpc09uTXlTZXJ2ZXIiLCJSZWdFeHAiLCJ0ZXN0Iiwic2xpY2UiLCJpbWFnZV91cmwiLCJzcGxpdCIsIlByb21pc2UiLCJhbGwiLCJtYXAiLCJlbGVtZW50IiwiZXJhc2VJbWFnZXMiLCJpbWFnZXMiLCJwcm9taXNlcyIsImRlc3Ryb3kiLCJyZXN1bHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./_api/utils/cloudinary.ts\n");

/***/ }),

/***/ "./pages/api/product/representation.ts":
/*!*********************************************!*\
  !*** ./pages/api/product/representation.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _api_handlers_product__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../_api/handlers/product */ \"./_api/handlers/product/index.ts\");\n/* harmony import */ var _api_middleware_mongodb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../_api/middleware/mongodb */ \"./_api/middleware/mongodb.ts\");\n\n\n\nconst handler = async (req, res) => {\n  switch (req.method) {\n    case \"GET\":\n      (0,_api_handlers_product__WEBPACK_IMPORTED_MODULE_0__.GET_WITH_REPRESENTATION_handler)(req, res);\n      break;\n\n    default:\n      res.send(404).send({\n        message: \"wrong method\"\n      });\n  }\n};\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_api_middleware_mongodb__WEBPACK_IMPORTED_MODULE_1__.default)(handler));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9wYWdlcy9hcGkvcHJvZHVjdC9yZXByZXNlbnRhdGlvbi50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBOztBQUVBLE1BQU1FLE9BQU8sR0FBRyxPQUFPQyxHQUFQLEVBQVlDLEdBQVosS0FBb0I7QUFDbEMsVUFBUUQsR0FBRyxDQUFDRSxNQUFaO0FBQ0UsU0FBSyxLQUFMO0FBQ0VMLE1BQUFBLHNGQUErQixDQUFDRyxHQUFELEVBQU1DLEdBQU4sQ0FBL0I7QUFDQTs7QUFFRjtBQUNFQSxNQUFBQSxHQUFHLENBQUNFLElBQUosQ0FBUyxHQUFULEVBQWNBLElBQWQsQ0FBbUI7QUFBRUMsUUFBQUEsT0FBTyxFQUFFO0FBQVgsT0FBbkI7QUFOSjtBQVFELENBVEQ7O0FBV0EsaUVBQWVOLGdFQUFTLENBQUNDLE9BQUQsQ0FBeEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb21tZXJjZS8uL3BhZ2VzL2FwaS9wcm9kdWN0L3JlcHJlc2VudGF0aW9uLnRzP2Y4YmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgR0VUX1dJVEhfUkVQUkVTRU5UQVRJT05faGFuZGxlciB9IGZyb20gXCIuLi8uLi8uLi9fYXBpL2hhbmRsZXJzL3Byb2R1Y3RcIjtcbmltcG9ydCBjb25uZWN0REIgZnJvbSBcIi4uLy4uLy4uL19hcGkvbWlkZGxld2FyZS9tb25nb2RiXCI7XG5cbmNvbnN0IGhhbmRsZXIgPSBhc3luYyAocmVxLCByZXMpID0+IHtcbiAgc3dpdGNoIChyZXEubWV0aG9kKSB7XG4gICAgY2FzZSBcIkdFVFwiOlxuICAgICAgR0VUX1dJVEhfUkVQUkVTRU5UQVRJT05faGFuZGxlcihyZXEsIHJlcyk7XG4gICAgICBicmVhaztcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXMuc2VuZCg0MDQpLnNlbmQoeyBtZXNzYWdlOiBcIndyb25nIG1ldGhvZFwiIH0pO1xuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0REIoaGFuZGxlcik7XG4iXSwibmFtZXMiOlsiR0VUX1dJVEhfUkVQUkVTRU5UQVRJT05faGFuZGxlciIsImNvbm5lY3REQiIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJtZXRob2QiLCJzZW5kIiwibWVzc2FnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./pages/api/product/representation.ts\n");

/***/ }),

/***/ "./shared/UtilityFunctions.ts":
/*!************************************!*\
  !*** ./shared/UtilityFunctions.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"setProperty\": () => (/* binding */ setProperty),\n/* harmony export */   \"getRandomInteger\": () => (/* binding */ getRandomInteger),\n/* harmony export */   \"string_and_array_to_array\": () => (/* binding */ string_and_array_to_array),\n/* harmony export */   \"formatPrice\": () => (/* binding */ formatPrice),\n/* harmony export */   \"checkForm\": () => (/* binding */ checkForm),\n/* harmony export */   \"formatUrl\": () => (/* binding */ formatUrl)\n/* harmony export */ });\nconst setProperty = (object, property, value) => {\n  object.current.style.setProperty(property, value);\n};\nconst getRandomInteger = (upperBound, lowerBound = 0) => {\n  return Math.floor(Math.random() * (upperBound - lowerBound) + lowerBound);\n};\nconst string_and_array_to_array = array => {\n  // return Array.isArray(array) ? array : array ? [array] : array;\n  return Array.isArray(array) ? array : [array];\n};\nconst formatPrice = price => {\n  return new Intl.NumberFormat(\"fr-CA\", {\n    style: \"currency\",\n    currency: \"CFA\"\n  }).format(parseFloat(price));\n};\nconst checkForm = (formData, nonRequired, errors) => {\n  const keys = Object.keys(formData);\n\n  for (let i = 0; i < keys.length; i++) {\n    const key = keys[i];\n    if (nonRequired[key]) continue;\n\n    if (Array.isArray(formData[key])) {\n      let errorOnKey = 0;\n      formData[key].forEach(element => {\n        if ((element === null || element === void 0 ? void 0 : element.length) <= 0 && errorOnKey == 0) {\n          errorOnKey = 1;\n          errors.push(`${key} should be entirely field`);\n        }\n      });\n    } else if (typeof formData[key] === \"object\") {\n      const subStateObjectKeys = Object.keys(formData[key]);\n      subStateObjectKeys.forEach(subKey => {\n        var _formData$key$subKey;\n\n        if (((_formData$key$subKey = formData[key][subKey]) === null || _formData$key$subKey === void 0 ? void 0 : _formData$key$subKey.length) <= 0) {\n          errors.push(`${key} / ${subKey} should be field`);\n        }\n      });\n    }\n\n    if (formData[key].length <= 0) errors.push(`${key} should be field`);\n  }\n};\nconst formatUrl = array => {\n  return array.map(item => item ? `https://res.cloudinary.com/dkoatnxem/image/upload/${item}` : \"\");\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UyxJQUFQLENBQWEsR0FBRUosR0FBSSxrQkFBbkI7QUFDaEM7QUFDRixDQTNCTTtBQTZCQSxNQUFNTyxTQUFTLEdBQUl6QixLQUFELElBQVc7QUFDbEMsU0FBT0EsS0FBSyxDQUFDMEIsR0FBTixDQUFXQyxJQUFELElBQ2ZBLElBQUksR0FBSSxxREFBb0RBLElBQUssRUFBN0QsR0FBaUUsRUFEaEUsQ0FBUDtBQUdELENBSk0iLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb21tZXJjZS8uL3NoYXJlZC9VdGlsaXR5RnVuY3Rpb25zLnRzPzM5ZTQiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IHNldFByb3BlcnR5ID0gKFxuICBvYmplY3Q6IFJlYWN0Lk11dGFibGVSZWZPYmplY3Q8SFRNTERpdkVsZW1lbnQ+LFxuICBwcm9wZXJ0eTogc3RyaW5nLFxuICB2YWx1ZVxuKSA9PiB7XG4gIG9iamVjdC5jdXJyZW50LnN0eWxlLnNldFByb3BlcnR5KHByb3BlcnR5LCB2YWx1ZSk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0UmFuZG9tSW50ZWdlciA9IChcbiAgdXBwZXJCb3VuZDogbnVtYmVyLFxuICBsb3dlckJvdW5kOiBudW1iZXIgPSAwXG4pID0+IHtcbiAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICh1cHBlckJvdW5kIC0gbG93ZXJCb3VuZCkgKyBsb3dlckJvdW5kKTtcbn07XG5cbmV4cG9ydCBjb25zdCBzdHJpbmdfYW5kX2FycmF5X3RvX2FycmF5OiAoYXJyYXk6IHN0cmluZ1tdIHwgc3RyaW5nKSA9PiBzdHJpbmdbXSA9XG4gIChhcnJheSkgPT4ge1xuICAgIC8vIHJldHVybiBBcnJheS5pc0FycmF5KGFycmF5KSA/IGFycmF5IDogYXJyYXkgPyBbYXJyYXldIDogYXJyYXk7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYXJyYXkpID8gYXJyYXkgOiBbYXJyYXldO1xuICB9O1xuXG5leHBvcnQgY29uc3QgZm9ybWF0UHJpY2UgPSAocHJpY2U6IHN0cmluZykgPT4ge1xuICByZXR1cm4gbmV3IEludGwuTnVtYmVyRm9ybWF0KFwiZnItQ0FcIiwge1xuICAgIHN0eWxlOiBcImN1cnJlbmN5XCIsXG4gICAgY3VycmVuY3k6IFwiQ0ZBXCIsXG4gIH0pLmZvcm1hdChwYXJzZUZsb2F0KHByaWNlKSk7XG59O1xuXG5leHBvcnQgY29uc3QgY2hlY2tGb3JtID0gKGZvcm1EYXRhLCBub25SZXF1aXJlZCwgZXJyb3JzKSA9PiB7XG4gIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhmb3JtRGF0YSk7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qga2V5ID0ga2V5c1tpXTtcblxuICAgIGlmIChub25SZXF1aXJlZFtrZXldKSBjb250aW51ZTtcblxuICAgIGlmIChBcnJheS5pc0FycmF5KGZvcm1EYXRhW2tleV0pKSB7XG4gICAgICBsZXQgZXJyb3JPbktleSA9IDA7XG4gICAgICBmb3JtRGF0YVtrZXldLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgaWYgKGVsZW1lbnQ/Lmxlbmd0aCA8PSAwICYmIGVycm9yT25LZXkgPT0gMCkge1xuICAgICAgICAgIGVycm9yT25LZXkgPSAxO1xuICAgICAgICAgIGVycm9ycy5wdXNoKGAke2tleX0gc2hvdWxkIGJlIGVudGlyZWx5IGZpZWxkYCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGZvcm1EYXRhW2tleV0gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgIGNvbnN0IHN1YlN0YXRlT2JqZWN0S2V5cyA9IE9iamVjdC5rZXlzKGZvcm1EYXRhW2tleV0pO1xuICAgICAgc3ViU3RhdGVPYmplY3RLZXlzLmZvckVhY2goKHN1YktleSkgPT4ge1xuICAgICAgICBpZiAoZm9ybURhdGFba2V5XVtzdWJLZXldPy5sZW5ndGggPD0gMCkge1xuICAgICAgICAgIGVycm9ycy5wdXNoKGAke2tleX0gLyAke3N1YktleX0gc2hvdWxkIGJlIGZpZWxkYCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChmb3JtRGF0YVtrZXldLmxlbmd0aCA8PSAwKSBlcnJvcnMucHVzaChgJHtrZXl9IHNob3VsZCBiZSBmaWVsZGApO1xuICB9XG59XG5cbmV4cG9ydCBjb25zdCBmb3JtYXRVcmwgPSAoYXJyYXkpID0+IHtcbiAgcmV0dXJuIGFycmF5Lm1hcCgoaXRlbSkgPT5cbiAgICBpdGVtID8gYGh0dHBzOi8vcmVzLmNsb3VkaW5hcnkuY29tL2Rrb2F0bnhlbS9pbWFnZS91cGxvYWQvJHtpdGVtfWAgOiBcIlwiXG4gICk7XG59OyJdLCJuYW1lcyI6WyJzZXRQcm9wZXJ0eSIsIm9iamVjdCIsInByb3BlcnR5IiwidmFsdWUiLCJjdXJyZW50Iiwic3R5bGUiLCJnZXRSYW5kb21JbnRlZ2VyIiwidXBwZXJCb3VuZCIsImxvd2VyQm91bmQiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJzdHJpbmdfYW5kX2FycmF5X3RvX2FycmF5IiwiYXJyYXkiLCJBcnJheSIsImlzQXJyYXkiLCJmb3JtYXRQcmljZSIsInByaWNlIiwiSW50bCIsIk51bWJlckZvcm1hdCIsImN1cnJlbmN5IiwiZm9ybWF0IiwicGFyc2VGbG9hdCIsImNoZWNrRm9ybSIsImZvcm1EYXRhIiwibm9uUmVxdWlyZWQiLCJlcnJvcnMiLCJrZXlzIiwiT2JqZWN0IiwiaSIsImxlbmd0aCIsImtleSIsImVycm9yT25LZXkiLCJmb3JFYWNoIiwiZWxlbWVudCIsInB1c2giLCJzdWJTdGF0ZU9iamVjdEtleXMiLCJzdWJLZXkiLCJmb3JtYXRVcmwiLCJtYXAiLCJpdGVtIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./shared/UtilityFunctions.ts\n");

/***/ }),

/***/ "cloudinary":
/*!*****************************!*\
  !*** external "cloudinary" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("cloudinary");

/***/ }),

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("jsonwebtoken");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("./pages/api/product/representation.ts"));
module.exports = __webpack_exports__;

})();